(function () {

    window.RESULTS = {"includes": [], "steps": [{"name": "S01-Introduction.md", "status": {"error": false, "last_display_update": 1488334539.526976, "muted": false, "name": "S01-Introduction.md", "last_modified": 1488334539.527975, "run": true, "is_dirty": false, "uuid": "3abf0acfa9e575532b47d05883103367eabafec8", "reference_id": "14", "dirty": false}, "has_error": null, "body": "<div class=\"cd-project-step\"\n     id=\"cdi-project-step-3ac6f-bloqxuoh\"\n     data-step-name=\"S01-Introduction.md\"\n     data-step-updated=\"1488334539.526976\"\n>\n  <a class=\"step-anchor\" name=\"S01-Introduction.md\" data-type=\"\"></a>\n  <div class=\"cd-project-step__header cd-project-step__header--standard\"\n       data-default-modifier=\"cd-project-step__header--standard\"\n  >\n\n    <div\n      id=\"cdi-title-box-3ac6f-bloqxuoh\"\n      class=\"title-box clicker opened\"\n      data-closes=\"#cdi-body-3ac6f-bloqxuoh|#cdi-code-3ac6f-bloqxuoh|#cdi-cd-StdErr__body-3ac6f-bloqxuoh\"\n      data-opens=\"#cdi-body-3ac6f-bloqxuoh\"\n      data-marks-closed=\"#cdi-code-toggler-3ac6f-bloqxuoh|#cdi-cd-StdErr__titleBox-3ac6f-bloqxuoh\"\n      onclick=\"CAULDRON.collapse('cdi-title-box-3ac6f-bloqxuoh')\"\n    >\n      \n      <i class=\"material-icons closed-icon\">keyboard_arrow_down</i>\n      <i class=\"material-icons opened-icon\">keyboard_arrow_up</i>\n      \n      <div>\n        <div class=\"title cd-step-title\">S01-Introduction.md</div>\n        \n      </div>\n    </div>\n\n    <div class=\"spacer\"> </div>\n\n    <div class=\"button-bar\">\n      \n      <div id=\"cdi-code-toggler-3ac6f-bloqxuoh\"\n           class=\"clicker closed centered\"\n           data-closes=\"#cdi-code-3ac6f-bloqxuoh\"\n           data-opens=\"#cdi-code-3ac6f-bloqxuoh\"\n           onclick=\"CAULDRON.collapse('cdi-code-toggler-3ac6f-bloqxuoh')\">\n        code\n        <i class=\"material-icons closed-icon\">keyboard_arrow_down</i>\n        <i class=\"material-icons opened-icon\">keyboard_arrow_up</i>\n      </div>\n      \n    </div>\n  </div>\n\n  \n  <div class=\"cd-CodeBlock code-box\"\n       id=\"cdi-code-3ac6f-bloqxuoh\"\n       style=\"display:none\"\n  >\n    <div class=\"cd-CodeBlock__toolbar code-toolbar\">\n      <div class=\"spacer\"></div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3ac6f-bloqxuoh .code-wrapper', -1)\"\n      >\n        -\n      </div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3ac6f-bloqxuoh .code-wrapper', 0)\"\n      >\n        100%\n      </div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3ac6f-bloqxuoh .code-wrapper', 1)\"\n      >\n        +\n      </div>\n    </div>\n    <div class=\"cd-CodeBlock__wrapper code-wrapper\"\n         data-font-size=\"0.6\"\n         data-font-size-default=\"0.6\"\n         style=\"font-size: 0.6em\"\n    >\n      <div class=\"cd-CodeBlock__FileBox code-file-box\">\n        <table class=\"highlighttable\"><tr><td class=\"linenos\"><div class=\"linenodiv\"><pre> 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11</pre></div></td><td class=\"code\"><div class=\"highlight\"><pre><span></span># SQL vs SQLAlchemy vs Pandas Joins\n\nWe&#39;re going to look at the syntactical differences of simple joins in SQL,\nSQLAlchemy&#39;s Expression Language and in Pandas data frames. For these examples\nwe&#39;re going to use the familiar AutoMPG data set. However, we&#39;re going to\nbreak it into two tables **attributes** and **performance**, which will\nshare a *name* column that will be used for the joins.\n\nBefore we get to the joins we need to load and transform the raw CSV data\nset into Pandas data frames as well as populating an SQLite in-memory database\ncontaining those tables.\n</pre></div>\n</td></tr></table>\n      </div>\n    </div>\n  </div>\n  \n\n  \n  <div id=\"cdi-body-3ac6f-bloqxuoh\"\n       class=\"cd-project-step-body\"\n       \n  >\n\n      \n      <div class=\"cd-ProjectStep__bodyInner\">\n<div class=\"textbox markdown\"><h1>SQL vs SQLAlchemy vs Pandas Joins</h1>\n<p>We're going to look at the syntactical differences of simple joins in SQL,\nSQLAlchemy's Expression Language and in Pandas data frames. For these examples\nwe're going to use the familiar AutoMPG data set. However, we're going to\nbreak it into two tables <strong>attributes</strong> and <strong>performance</strong>, which will\nshare a <em>name</em> column that will be used for the joins.</p>\n<p>Before we get to the joins we need to load and transform the raw CSV data\nset into Pandas data frames as well as populating an SQLite in-memory database\ncontaining those tables.</p></div></div>\n  </div>\n  \n\n  \n\n  \n  <a class=\"step-anchor\" name=\"S01-Introduction.md--end\" data-type=\"--end\"></a>\n</div>", "data": null, "includes": [], "cauldron_version": [0, 0, 31]}, {"name": "S02-Load-Data.py", "status": {"error": false, "last_display_update": 1488334539.543002, "muted": false, "name": "S02-Load-Data.py", "last_modified": 1488334539.543002, "run": true, "is_dirty": false, "uuid": "fd02ace5a2ed0e218294adcb85e081540ed97821", "reference_id": "15", "dirty": false}, "has_error": null, "body": "<div class=\"cd-project-step\"\n     id=\"cdi-project-step-3ac7d-ykuexsqu\"\n     data-step-name=\"S02-Load-Data.py\"\n     data-step-updated=\"1488334539.543002\"\n>\n  <a class=\"step-anchor\" name=\"S02-Load-Data.py\" data-type=\"\"></a>\n  <div class=\"cd-project-step__header cd-project-step__header--standard\"\n       data-default-modifier=\"cd-project-step__header--standard\"\n  >\n\n    <div\n      id=\"cdi-title-box-3ac7d-ykuexsqu\"\n      class=\"title-box clicker opened\"\n      data-closes=\"#cdi-body-3ac7d-ykuexsqu|#cdi-code-3ac7d-ykuexsqu|#cdi-cd-StdErr__body-3ac7d-ykuexsqu\"\n      data-opens=\"#cdi-body-3ac7d-ykuexsqu\"\n      data-marks-closed=\"#cdi-code-toggler-3ac7d-ykuexsqu|#cdi-cd-StdErr__titleBox-3ac7d-ykuexsqu\"\n      onclick=\"CAULDRON.collapse('cdi-title-box-3ac7d-ykuexsqu')\"\n    >\n      \n      <i class=\"material-icons closed-icon\">keyboard_arrow_down</i>\n      <i class=\"material-icons opened-icon\">keyboard_arrow_up</i>\n      \n      <div>\n        <div class=\"title cd-step-title\">S02-Load-Data.py</div>\n        \n      </div>\n    </div>\n\n    <div class=\"spacer\"> </div>\n\n    <div class=\"button-bar\">\n      \n      <div id=\"cdi-code-toggler-3ac7d-ykuexsqu\"\n           class=\"clicker closed centered\"\n           data-closes=\"#cdi-code-3ac7d-ykuexsqu\"\n           data-opens=\"#cdi-code-3ac7d-ykuexsqu\"\n           onclick=\"CAULDRON.collapse('cdi-code-toggler-3ac7d-ykuexsqu')\">\n        code\n        <i class=\"material-icons closed-icon\">keyboard_arrow_down</i>\n        <i class=\"material-icons opened-icon\">keyboard_arrow_up</i>\n      </div>\n      \n    </div>\n  </div>\n\n  \n  <div class=\"cd-CodeBlock code-box\"\n       id=\"cdi-code-3ac7d-ykuexsqu\"\n       style=\"display:none\"\n  >\n    <div class=\"cd-CodeBlock__toolbar code-toolbar\">\n      <div class=\"spacer\"></div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3ac7d-ykuexsqu .code-wrapper', -1)\"\n      >\n        -\n      </div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3ac7d-ykuexsqu .code-wrapper', 0)\"\n      >\n        100%\n      </div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3ac7d-ykuexsqu .code-wrapper', 1)\"\n      >\n        +\n      </div>\n    </div>\n    <div class=\"cd-CodeBlock__wrapper code-wrapper\"\n         data-font-size=\"0.6\"\n         data-font-size-default=\"0.6\"\n         style=\"font-size: 0.6em\"\n    >\n      <div class=\"cd-CodeBlock__FileBox code-file-box\">\n        <table class=\"highlighttable\"><tr><td class=\"linenos\"><div class=\"linenodiv\"><pre> 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31</pre></div></td><td class=\"code\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">cauldron</span> <span class=\"kn\">as</span> <span class=\"nn\">cd</span>\n<span class=\"kn\">import</span> <span class=\"nn\">pandas</span> <span class=\"kn\">as</span> <span class=\"nn\">pd</span>\n\n<span class=\"c1\"># Load the auto-mpg data set</span>\n<span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">read_csv</span><span class=\"p\">(</span><span class=\"s1\">&#39;auto-mpg.csv&#39;</span><span class=\"p\">)</span>\n\n\n<span class=\"c1\"># Break the data set into two separate data frames, one for attributes and</span>\n<span class=\"c1\"># one for performance</span>\n<span class=\"n\">df_attributes</span> <span class=\"o\">=</span> <span class=\"n\">df</span><span class=\"p\">[[</span><span class=\"s1\">&#39;name&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;cyl&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;displ&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;hp&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;weight&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;yr&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;origin&#39;</span><span class=\"p\">]]</span>\n<span class=\"n\">df_performance</span> <span class=\"o\">=</span> <span class=\"n\">df</span><span class=\"p\">[[</span><span class=\"s1\">&#39;name&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;mpg&#39;</span><span class=\"p\">,</span> <span class=\"s1\">&#39;accel&#39;</span><span class=\"p\">]]</span>\n\n<span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"o\">.</span><span class=\"n\">markdown</span><span class=\"p\">(</span>\n    <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    ## Auto MPG Data Set</span>\n\n<span class=\"sd\">    We load the AutoMPG data set from CSV using pandas and then break the</span>\n<span class=\"sd\">    complete table into separate **attributes** and **performance** data</span>\n<span class=\"sd\">    frames.</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n<span class=\"p\">)</span>\n\n<span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"o\">.</span><span class=\"n\">markdown</span><span class=\"p\">(</span><span class=\"s1\">&#39;The **attributes** table looks like:&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"o\">.</span><span class=\"n\">table</span><span class=\"p\">(</span><span class=\"n\">df_attributes</span><span class=\"o\">.</span><span class=\"n\">head</span><span class=\"p\">())</span>\n\n<span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"o\">.</span><span class=\"n\">markdown</span><span class=\"p\">(</span><span class=\"s1\">&#39;The **performance** table looks like:&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"o\">.</span><span class=\"n\">table</span><span class=\"p\">(</span><span class=\"n\">df_performance</span><span class=\"o\">.</span><span class=\"n\">head</span><span class=\"p\">())</span>\n\n<span class=\"c1\"># Share two data frames</span>\n<span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">shared</span><span class=\"o\">.</span><span class=\"n\">df_attributes</span> <span class=\"o\">=</span> <span class=\"n\">df_attributes</span>\n<span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">shared</span><span class=\"o\">.</span><span class=\"n\">df_performance</span> <span class=\"o\">=</span> <span class=\"n\">df_performance</span>\n</pre></div>\n</td></tr></table>\n      </div>\n    </div>\n  </div>\n  \n\n  \n  <div id=\"cdi-body-3ac7d-ykuexsqu\"\n       class=\"cd-project-step-body\"\n       \n  >\n\n      \n      <div class=\"cd-ProjectStep__bodyInner\">\n<div class=\"textbox markdown\"><h2>Auto MPG Data Set</h2>\n<p>We load the AutoMPG data set from CSV using pandas and then break the\ncomplete table into separate <strong>attributes</strong> and <strong>performance</strong> data\nframes.</p></div>\n<div class=\"textbox markdown\"><p>The <strong>attributes</strong> table looks like:</p></div><div class=\"data-table\">\n    <div id=\"table-02-15-39-541002-73882042\"></div>\n</div>\n\n<script>\n  (function () {\n    var data = [[\"chevrolet chevelle malibu\", 8, 307.0, 130, 3504, 70, 1], [\"buick skylark 320\", 8, 350.0, 165, 3693, 70, 1], [\"plymouth satellite\", 8, 318.0, 150, 3436, 70, 1], [\"amc rebel sst\", 8, 304.0, 150, 3433, 70, 1], [\"ford torino\", 8, 302.0, 140, 3449, 70, 1]];\n\n    function heightMaker() {\n      return Math.min(\n          Math.round(0.7 * $(window).height()),\n          Math.round(26 * (data.length + 1.5))\n      );\n    }\n\n    var table = new window.Handsontable($('#table-02-15-39-541002-73882042')[0], {\n      data: data,\n      stretchH: 'all',\n      height: heightMaker,\n      rowHeaders: true,\n      colHeaders: [\"name\", \"cyl\", \"displ\", \"hp\", \"weight\", \"yr\", \"origin\"],\n      manualRowResize: true,\n      manualColumnResize: true,\n      manualRowMove: true,\n      manualColumnMove: true\n    });\n\n  }());\n</script>\n<div class=\"textbox markdown\"><p>The <strong>performance</strong> table looks like:</p></div><div class=\"data-table\">\n    <div id=\"table-02-15-39-543002-66616899\"></div>\n</div>\n\n<script>\n  (function () {\n    var data = [[\"chevrolet chevelle malibu\", 18.0, 12.0], [\"buick skylark 320\", 15.0, 11.5], [\"plymouth satellite\", 18.0, 11.0], [\"amc rebel sst\", 16.0, 12.0], [\"ford torino\", 17.0, 10.5]];\n\n    function heightMaker() {\n      return Math.min(\n          Math.round(0.7 * $(window).height()),\n          Math.round(26 * (data.length + 1.5))\n      );\n    }\n\n    var table = new window.Handsontable($('#table-02-15-39-543002-66616899')[0], {\n      data: data,\n      stretchH: 'all',\n      height: heightMaker,\n      rowHeaders: true,\n      colHeaders: [\"name\", \"mpg\", \"accel\"],\n      manualRowResize: true,\n      manualColumnResize: true,\n      manualRowMove: true,\n      manualColumnMove: true\n    });\n\n  }());\n</script></div>\n  </div>\n  \n\n  \n\n  \n  <a class=\"step-anchor\" name=\"S02-Load-Data.py--end\" data-type=\"--end\"></a>\n</div>", "data": null, "includes": [], "cauldron_version": [0, 0, 31]}, {"name": "S03-Create-Database.py", "status": {"error": false, "last_display_update": 1488334539.5789769, "muted": false, "name": "S03-Create-Database.py", "last_modified": 1488334539.5759745, "run": true, "is_dirty": false, "uuid": "14f44c08ece4da81402b495a4b57266bf48f4f42", "reference_id": "16", "dirty": false}, "has_error": null, "body": "<div class=\"cd-project-step\"\n     id=\"cdi-project-step-3ac9e-tyjnlzdn\"\n     data-step-name=\"S03-Create-Database.py\"\n     data-step-updated=\"1488334539.5789769\"\n>\n  <a class=\"step-anchor\" name=\"S03-Create-Database.py\" data-type=\"\"></a>\n  <div class=\"cd-project-step__header cd-project-step__header--standard\"\n       data-default-modifier=\"cd-project-step__header--standard\"\n  >\n\n    <div\n      id=\"cdi-title-box-3ac9e-tyjnlzdn\"\n      class=\"title-box clicker opened\"\n      data-closes=\"#cdi-body-3ac9e-tyjnlzdn|#cdi-code-3ac9e-tyjnlzdn|#cdi-cd-StdErr__body-3ac9e-tyjnlzdn\"\n      data-opens=\"#cdi-body-3ac9e-tyjnlzdn\"\n      data-marks-closed=\"#cdi-code-toggler-3ac9e-tyjnlzdn|#cdi-cd-StdErr__titleBox-3ac9e-tyjnlzdn\"\n      onclick=\"CAULDRON.collapse('cdi-title-box-3ac9e-tyjnlzdn')\"\n    >\n      \n      <i class=\"material-icons closed-icon\">keyboard_arrow_down</i>\n      <i class=\"material-icons opened-icon\">keyboard_arrow_up</i>\n      \n      <div>\n        <div class=\"title cd-step-title\">S03-Create-Database.py</div>\n        \n      </div>\n    </div>\n\n    <div class=\"spacer\"> </div>\n\n    <div class=\"button-bar\">\n      \n      <div id=\"cdi-code-toggler-3ac9e-tyjnlzdn\"\n           class=\"clicker closed centered\"\n           data-closes=\"#cdi-code-3ac9e-tyjnlzdn\"\n           data-opens=\"#cdi-code-3ac9e-tyjnlzdn\"\n           onclick=\"CAULDRON.collapse('cdi-code-toggler-3ac9e-tyjnlzdn')\">\n        code\n        <i class=\"material-icons closed-icon\">keyboard_arrow_down</i>\n        <i class=\"material-icons opened-icon\">keyboard_arrow_up</i>\n      </div>\n      \n    </div>\n  </div>\n\n  \n  <div class=\"cd-CodeBlock code-box\"\n       id=\"cdi-code-3ac9e-tyjnlzdn\"\n       style=\"display:none\"\n  >\n    <div class=\"cd-CodeBlock__toolbar code-toolbar\">\n      <div class=\"spacer\"></div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3ac9e-tyjnlzdn .code-wrapper', -1)\"\n      >\n        -\n      </div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3ac9e-tyjnlzdn .code-wrapper', 0)\"\n      >\n        100%\n      </div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3ac9e-tyjnlzdn .code-wrapper', 1)\"\n      >\n        +\n      </div>\n    </div>\n    <div class=\"cd-CodeBlock__wrapper code-wrapper\"\n         data-font-size=\"0.6\"\n         data-font-size-default=\"0.6\"\n         style=\"font-size: 0.6em\"\n    >\n      <div class=\"cd-CodeBlock__FileBox code-file-box\">\n        <table class=\"highlighttable\"><tr><td class=\"linenos\"><div class=\"linenodiv\"><pre> 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43</pre></div></td><td class=\"code\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">cauldron</span> <span class=\"kn\">as</span> <span class=\"nn\">cd</span>\n<span class=\"kn\">from</span> <span class=\"nn\">sqlalchemy</span> <span class=\"kn\">import</span> <span class=\"n\">create_engine</span>\n<span class=\"kn\">from</span> <span class=\"nn\">sqlalchemy.pool</span> <span class=\"kn\">import</span> <span class=\"n\">StaticPool</span>\n\n<span class=\"n\">df_attributes</span> <span class=\"o\">=</span> <span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">shared</span><span class=\"o\">.</span><span class=\"n\">df_attributes</span>\n<span class=\"n\">df_performance</span> <span class=\"o\">=</span> <span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">shared</span><span class=\"o\">.</span><span class=\"n\">df_performance</span>\n\n<span class=\"c1\"># Create an in-memory SQLite database and populate tables from data frames</span>\n<span class=\"c1\"># The extra arguments make it possible for the connection to function in a</span>\n<span class=\"c1\"># multi-threaded notebook environment.</span>\n<span class=\"n\">engine</span> <span class=\"o\">=</span> <span class=\"n\">create_engine</span><span class=\"p\">(</span>\n    <span class=\"s1\">&#39;sqlite://&#39;</span><span class=\"p\">,</span>\n    <span class=\"n\">connect_args</span><span class=\"o\">=</span><span class=\"p\">{</span><span class=\"s1\">&#39;check_same_thread&#39;</span><span class=\"p\">:</span> <span class=\"bp\">False</span><span class=\"p\">},</span>\n    <span class=\"n\">poolclass</span><span class=\"o\">=</span><span class=\"n\">StaticPool</span>\n<span class=\"p\">)</span>\n\n<span class=\"n\">df_attributes</span><span class=\"o\">.</span><span class=\"n\">to_sql</span><span class=\"p\">(</span><span class=\"s1\">&#39;attributes&#39;</span><span class=\"p\">,</span> <span class=\"n\">engine</span><span class=\"p\">)</span>\n<span class=\"n\">df_performance</span><span class=\"o\">.</span><span class=\"n\">to_sql</span><span class=\"p\">(</span><span class=\"s1\">&#39;performance&#39;</span><span class=\"p\">,</span> <span class=\"n\">engine</span><span class=\"p\">)</span>\n\n<span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"o\">.</span><span class=\"n\">markdown</span><span class=\"p\">(</span>\n    <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    ## Create SQL In-Memory Database</span>\n\n<span class=\"sd\">    We load the data frames shown above into an in-memory SQLite database as</span>\n<span class=\"sd\">    tables for the raw SQL and SQLAlchemy comparisons. To confirm this works</span>\n<span class=\"sd\">    we execute two SQL statements:</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n<span class=\"p\">)</span>\n\n\n<span class=\"k\">def</span> <span class=\"nf\">execute_statement</span><span class=\"p\">(</span><span class=\"n\">statement</span><span class=\"p\">):</span>\n    <span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"o\">.</span><span class=\"n\">code_block</span><span class=\"p\">(</span><span class=\"n\">statement</span><span class=\"p\">,</span> <span class=\"n\">language_id</span><span class=\"o\">=</span><span class=\"s1\">&#39;sql&#39;</span><span class=\"p\">)</span>\n\n    <span class=\"n\">results</span> <span class=\"o\">=</span> <span class=\"n\">engine</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"n\">statement</span><span class=\"p\">)</span>\n\n    <span class=\"k\">for</span> <span class=\"n\">r</span> <span class=\"ow\">in</span> <span class=\"n\">results</span><span class=\"p\">:</span>\n        <span class=\"k\">print</span><span class=\"p\">(</span><span class=\"n\">r</span><span class=\"p\">)</span>\n\n\n<span class=\"n\">execute_statement</span><span class=\"p\">(</span><span class=\"s1\">&#39;SELECT * FROM attributes LIMIT 5&#39;</span><span class=\"p\">)</span>\n<span class=\"n\">execute_statement</span><span class=\"p\">(</span><span class=\"s1\">&#39;SELECT * FROM performance LIMIT 5&#39;</span><span class=\"p\">)</span>\n\n<span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">shared</span><span class=\"o\">.</span><span class=\"n\">sql_engine</span> <span class=\"o\">=</span> <span class=\"n\">engine</span>\n</pre></div>\n</td></tr></table>\n      </div>\n    </div>\n  </div>\n  \n\n  \n  <div id=\"cdi-body-3ac9e-tyjnlzdn\"\n       class=\"cd-project-step-body\"\n       \n  >\n\n      \n      <div class=\"cd-ProjectStep__bodyInner\">\n<div class=\"textbox markdown\"><h2>Create SQL In-Memory Database</h2>\n<p>We load the data frames shown above into an in-memory SQLite database as\ntables for the raw SQL and SQLAlchemy comparisons. To confirm this works\nwe execute two SQL statements:</p></div><div\n  id=\"cdi-cd-CodeBlock-3ac91-xkpqjyll\"\n  class=\"cd-CodeBlock\"\n>\n  \n\n  <div class=\"cd-CodeBlock__box\"><div class=\"highlighttable\"><div class=\"linenos\"><div class=\"linenodiv\">1</div></div><div class=\"code\"><span class=\"k\">SELECT</span> <span class=\"o\">*</span> <span class=\"k\">FROM</span> <span class=\"n\">attributes</span> <span class=\"k\">LIMIT</span> <span class=\"mi\">5</span>\n</div></div></div>\n\n  \n</div><pre class=\"preformatted-textbox\">(0, &apos;chevrolet chevelle malibu&apos;, 8, 307.0, 130, 3504, 70, 1)\r\n(1, &apos;buick skylark 320&apos;, 8, 350.0, 165, 3693, 70, 1)\r\n(2, &apos;plymouth satellite&apos;, 8, 318.0, 150, 3436, 70, 1)\r\n(3, &apos;amc rebel sst&apos;, 8, 304.0, 150, 3433, 70, 1)\r\n(4, &apos;ford torino&apos;, 8, 302.0, 140, 3449, 70, 1)\r\n</pre><div\n  id=\"cdi-cd-CodeBlock-3ac97-qrmdicyn\"\n  class=\"cd-CodeBlock\"\n>\n  \n\n  <div class=\"cd-CodeBlock__box\"><div class=\"highlighttable\"><div class=\"linenos\"><div class=\"linenodiv\">1</div></div><div class=\"code\"><span class=\"k\">SELECT</span> <span class=\"o\">*</span> <span class=\"k\">FROM</span> <span class=\"n\">performance</span> <span class=\"k\">LIMIT</span> <span class=\"mi\">5</span>\n</div></div></div>\n\n  \n</div><pre class=\"preformatted-textbox\">(0, &apos;chevrolet chevelle malibu&apos;, 18.0, 12.0)\r\n(1, &apos;buick skylark 320&apos;, 15.0, 11.5)\r\n(2, &apos;plymouth satellite&apos;, 18.0, 11.0)\r\n(3, &apos;amc rebel sst&apos;, 16.0, 12.0)\r\n(4, &apos;ford torino&apos;, 17.0, 10.5)\r\n</pre></div>\n  </div>\n  \n\n  \n\n  \n  <a class=\"step-anchor\" name=\"S03-Create-Database.py--end\" data-type=\"--end\"></a>\n</div>", "data": null, "includes": [], "cauldron_version": [0, 0, 31]}, {"name": "S04-Table-Definitions.py", "status": {"error": false, "last_display_update": 1488334539.6059752, "muted": false, "name": "S04-Table-Definitions.py", "last_modified": 1488334539.6019769, "run": true, "is_dirty": false, "uuid": "6a8937749fac5968e909b3f2b1c116f1d6536a02", "reference_id": "17", "dirty": false}, "has_error": null, "body": "<div class=\"cd-project-step\"\n     id=\"cdi-project-step-3acb9-mkycykyx\"\n     data-step-name=\"S04-Table-Definitions.py\"\n     data-step-updated=\"1488334539.6059752\"\n>\n  <a class=\"step-anchor\" name=\"S04-Table-Definitions.py\" data-type=\"\"></a>\n  <div class=\"cd-project-step__header cd-project-step__header--standard\"\n       data-default-modifier=\"cd-project-step__header--standard\"\n  >\n\n    <div\n      id=\"cdi-title-box-3acb9-mkycykyx\"\n      class=\"title-box clicker opened\"\n      data-closes=\"#cdi-body-3acb9-mkycykyx|#cdi-code-3acb9-mkycykyx|#cdi-cd-StdErr__body-3acb9-mkycykyx\"\n      data-opens=\"#cdi-body-3acb9-mkycykyx\"\n      data-marks-closed=\"#cdi-code-toggler-3acb9-mkycykyx|#cdi-cd-StdErr__titleBox-3acb9-mkycykyx\"\n      onclick=\"CAULDRON.collapse('cdi-title-box-3acb9-mkycykyx')\"\n    >\n      \n      <i class=\"material-icons closed-icon\">keyboard_arrow_down</i>\n      <i class=\"material-icons opened-icon\">keyboard_arrow_up</i>\n      \n      <div>\n        <div class=\"title cd-step-title\">S04-Table-Definitions.py</div>\n        \n      </div>\n    </div>\n\n    <div class=\"spacer\"> </div>\n\n    <div class=\"button-bar\">\n      \n      <div id=\"cdi-code-toggler-3acb9-mkycykyx\"\n           class=\"clicker closed centered\"\n           data-closes=\"#cdi-code-3acb9-mkycykyx\"\n           data-opens=\"#cdi-code-3acb9-mkycykyx\"\n           onclick=\"CAULDRON.collapse('cdi-code-toggler-3acb9-mkycykyx')\">\n        code\n        <i class=\"material-icons closed-icon\">keyboard_arrow_down</i>\n        <i class=\"material-icons opened-icon\">keyboard_arrow_up</i>\n      </div>\n      \n    </div>\n  </div>\n\n  \n  <div class=\"cd-CodeBlock code-box\"\n       id=\"cdi-code-3acb9-mkycykyx\"\n       style=\"display:none\"\n  >\n    <div class=\"cd-CodeBlock__toolbar code-toolbar\">\n      <div class=\"spacer\"></div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3acb9-mkycykyx .code-wrapper', -1)\"\n      >\n        -\n      </div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3acb9-mkycykyx .code-wrapper', 0)\"\n      >\n        100%\n      </div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3acb9-mkycykyx .code-wrapper', 1)\"\n      >\n        +\n      </div>\n    </div>\n    <div class=\"cd-CodeBlock__wrapper code-wrapper\"\n         data-font-size=\"0.6\"\n         data-font-size-default=\"0.6\"\n         style=\"font-size: 0.6em\"\n    >\n      <div class=\"cd-CodeBlock__FileBox code-file-box\">\n        <table class=\"highlighttable\"><tr><td class=\"linenos\"><div class=\"linenodiv\"><pre> 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71\n72\n73\n74\n75\n76\n77\n78\n79\n80\n81\n82\n83\n84\n85\n86\n87\n88\n89\n90</pre></div></td><td class=\"code\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">cauldron</span> <span class=\"kn\">as</span> <span class=\"nn\">cd</span>\n<span class=\"kn\">import</span> <span class=\"nn\">sqlalchemy</span> <span class=\"kn\">as</span> <span class=\"nn\">sa</span>\n\n<span class=\"n\">engine</span> <span class=\"o\">=</span> <span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">shared</span><span class=\"o\">.</span><span class=\"n\">sql_engine</span>\n<span class=\"n\">catalog</span> <span class=\"o\">=</span> <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">MetaData</span><span class=\"p\">()</span>\n\n<span class=\"n\">attributes</span> <span class=\"o\">=</span> <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Table</span><span class=\"p\">(</span>\n    <span class=\"s1\">&#39;attributes&#39;</span><span class=\"p\">,</span>\n    <span class=\"n\">catalog</span><span class=\"p\">,</span>\n    <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"s1\">&#39;name&#39;</span><span class=\"p\">,</span> <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">String</span><span class=\"p\">),</span>\n    <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"s1\">&#39;cyl&#39;</span><span class=\"p\">,</span> <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Integer</span><span class=\"p\">),</span>\n    <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"s1\">&#39;displ&#39;</span><span class=\"p\">,</span> <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Integer</span><span class=\"p\">),</span>\n    <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"s1\">&#39;weight&#39;</span><span class=\"p\">,</span> <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Integer</span><span class=\"p\">),</span>\n    <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"s1\">&#39;hp&#39;</span><span class=\"p\">,</span> <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Integer</span><span class=\"p\">),</span>\n    <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"s1\">&#39;yr&#39;</span><span class=\"p\">,</span> <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Integer</span><span class=\"p\">),</span>\n    <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"s1\">&#39;origin&#39;</span><span class=\"p\">,</span> <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Integer</span><span class=\"p\">)</span>\n<span class=\"p\">)</span>\n\n<span class=\"n\">performance</span> <span class=\"o\">=</span> <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Table</span><span class=\"p\">(</span>\n    <span class=\"s1\">&#39;performance&#39;</span><span class=\"p\">,</span>\n    <span class=\"n\">catalog</span><span class=\"p\">,</span>\n    <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"s1\">&#39;name&#39;</span><span class=\"p\">,</span> <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">String</span><span class=\"p\">),</span>\n    <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"s1\">&#39;mpg&#39;</span><span class=\"p\">,</span> <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Integer</span><span class=\"p\">),</span>\n    <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"s1\">&#39;accel&#39;</span><span class=\"p\">,</span> <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Float</span><span class=\"p\">)</span>\n<span class=\"p\">)</span>\n\n<span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"o\">.</span><span class=\"n\">markdown</span><span class=\"p\">(</span>\n    <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    # Create Table Definitions</span>\n\n<span class=\"sd\">    Now that we have a functioning database, we want to take advantage of</span>\n<span class=\"sd\">    sqlalchemy&#39;s Expression Language, which allows us to write more concise</span>\n<span class=\"sd\">    and readable queries. However, for that to work, we need to create</span>\n<span class=\"sd\">    definitions for the **attributes** and **performance** tables like so:</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n<span class=\"p\">)</span>\n\n<span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"o\">.</span><span class=\"n\">code_block</span><span class=\"p\">(</span>\n    <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    import sqlalchemy as sa</span>\n\n<span class=\"sd\">    catalog = sa.MetaData()</span>\n\n<span class=\"sd\">    # Create attributes table definition. Not all columns need to be defined.</span>\n<span class=\"sd\">    # Only the ones you are interested in using should be included.</span>\n<span class=\"sd\">    attributes = sa.Table(</span>\n<span class=\"sd\">        &#39;attributes&#39;,</span>\n<span class=\"sd\">        catalog,</span>\n<span class=\"sd\">        sa.Column(&#39;name&#39;, sa.String),</span>\n<span class=\"sd\">        sa.Column(&#39;cyl&#39;, sa.Integer),</span>\n<span class=\"sd\">        sa.Column(&#39;displ&#39;, sa.Integer),</span>\n<span class=\"sd\">        sa.Column(&#39;weight&#39;, sa.Integer),</span>\n<span class=\"sd\">        sa.Column(&#39;hp&#39;, sa.Integer),</span>\n<span class=\"sd\">        sa.Column(&#39;yr&#39;, sa.Integer),</span>\n<span class=\"sd\">        sa.Column(&#39;origin&#39;, sa.Integer)</span>\n<span class=\"sd\">    )</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n<span class=\"p\">)</span>\n\n<span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"o\">.</span><span class=\"n\">markdown</span><span class=\"p\">(</span>\n    <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    We can then carry out the same queries as we did in the previous step,</span>\n<span class=\"sd\">    but this time using the SQLAlchemy Expression Language syntax instead</span>\n<span class=\"sd\">    of raw SQL:</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n<span class=\"p\">)</span>\n\n<span class=\"k\">def</span> <span class=\"nf\">execute_statement</span><span class=\"p\">(</span><span class=\"n\">table</span><span class=\"p\">):</span>\n    <span class=\"n\">cmd</span> <span class=\"o\">=</span> <span class=\"p\">(</span><span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">sql</span>\n        <span class=\"o\">.</span><span class=\"n\">select</span><span class=\"p\">([</span><span class=\"n\">attributes</span><span class=\"p\">])</span>\n        <span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"mi\">5</span><span class=\"p\">)</span>\n    <span class=\"p\">)</span>\n\n    <span class=\"n\">cmd_string</span> <span class=\"o\">=</span> <span class=\"s1\">&#39;select([{}]).limit(5)&#39;</span><span class=\"o\">.</span><span class=\"n\">format</span><span class=\"p\">(</span><span class=\"n\">table</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">)</span>\n    <span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"o\">.</span><span class=\"n\">code_block</span><span class=\"p\">(</span><span class=\"n\">cmd_string</span><span class=\"p\">,</span> <span class=\"n\">language_id</span><span class=\"o\">=</span><span class=\"s1\">&#39;py&#39;</span><span class=\"p\">)</span>\n\n    <span class=\"n\">results</span> <span class=\"o\">=</span> <span class=\"n\">engine</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"n\">cmd</span><span class=\"p\">)</span>\n    <span class=\"k\">for</span> <span class=\"n\">r</span> <span class=\"ow\">in</span> <span class=\"n\">results</span><span class=\"p\">:</span>\n        <span class=\"k\">print</span><span class=\"p\">(</span><span class=\"n\">r</span><span class=\"p\">)</span>\n\n\n<span class=\"n\">execute_statement</span><span class=\"p\">(</span><span class=\"n\">attributes</span><span class=\"p\">)</span>\n<span class=\"n\">execute_statement</span><span class=\"p\">(</span><span class=\"n\">performance</span><span class=\"p\">)</span>\n\n\n<span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">shared</span><span class=\"o\">.</span><span class=\"n\">put</span><span class=\"p\">(</span>\n    <span class=\"n\">database_catalog</span><span class=\"o\">=</span><span class=\"n\">catalog</span><span class=\"p\">,</span>\n    <span class=\"n\">attributes_table</span><span class=\"o\">=</span><span class=\"n\">attributes</span><span class=\"p\">,</span>\n    <span class=\"n\">performance_table</span><span class=\"o\">=</span><span class=\"n\">performance</span>\n<span class=\"p\">)</span>\n</pre></div>\n</td></tr></table>\n      </div>\n    </div>\n  </div>\n  \n\n  \n  <div id=\"cdi-body-3acb9-mkycykyx\"\n       class=\"cd-project-step-body\"\n       \n  >\n\n      \n      <div class=\"cd-ProjectStep__bodyInner\">\n<div class=\"textbox markdown\"><h1>Create Table Definitions</h1>\n<p>Now that we have a functioning database, we want to take advantage of\nsqlalchemy's Expression Language, which allows us to write more concise\nand readable queries. However, for that to work, we need to create\ndefinitions for the <strong>attributes</strong> and <strong>performance</strong> tables like so:</p></div><div\n  id=\"cdi-cd-CodeBlock-3aca4-miucaqdt\"\n  class=\"cd-CodeBlock\"\n>\n  \n\n  <div class=\"cd-CodeBlock__box\"><div class=\"highlighttable\"><div class=\"linenos\"><div class=\"linenodiv\"> 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17</div></div><div class=\"code\"><span class=\"kn\">import</span> <span class=\"nn\">sqlalchemy</span> <span class=\"kn\">as</span> <span class=\"nn\">sa</span>\n\n<span class=\"n\">catalog</span> <span class=\"o\">=</span> <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">MetaData</span><span class=\"p\">()</span>\n\n<span class=\"c1\"># Create attributes table definition. Not all columns need to be defined.</span>\n<span class=\"c1\"># Only the ones you are interested in using should be included.</span>\n<span class=\"n\">attributes</span> <span class=\"o\">=</span> <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Table</span><span class=\"p\">(</span>\n    <span class=\"s1\">&#39;attributes&#39;</span><span class=\"p\">,</span>\n    <span class=\"n\">catalog</span><span class=\"p\">,</span>\n    <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"s1\">&#39;name&#39;</span><span class=\"p\">,</span> <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">String</span><span class=\"p\">),</span>\n    <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"s1\">&#39;cyl&#39;</span><span class=\"p\">,</span> <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Integer</span><span class=\"p\">),</span>\n    <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"s1\">&#39;displ&#39;</span><span class=\"p\">,</span> <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Integer</span><span class=\"p\">),</span>\n    <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"s1\">&#39;weight&#39;</span><span class=\"p\">,</span> <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Integer</span><span class=\"p\">),</span>\n    <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"s1\">&#39;hp&#39;</span><span class=\"p\">,</span> <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Integer</span><span class=\"p\">),</span>\n    <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"s1\">&#39;yr&#39;</span><span class=\"p\">,</span> <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Integer</span><span class=\"p\">),</span>\n    <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Column</span><span class=\"p\">(</span><span class=\"s1\">&#39;origin&#39;</span><span class=\"p\">,</span> <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">Integer</span><span class=\"p\">)</span>\n<span class=\"p\">)</span>\n</div></div></div>\n\n  \n</div>\n<div class=\"textbox markdown\"><p>We can then carry out the same queries as we did in the previous step,\nbut this time using the SQLAlchemy Expression Language syntax instead\nof raw SQL:</p></div><div\n  id=\"cdi-cd-CodeBlock-3aca6-jplgagmx\"\n  class=\"cd-CodeBlock\"\n>\n  \n\n  <div class=\"cd-CodeBlock__box\"><div class=\"highlighttable\"><div class=\"linenos\"><div class=\"linenodiv\">1</div></div><div class=\"code\"><span class=\"n\">select</span><span class=\"p\">([</span><span class=\"n\">attributes</span><span class=\"p\">])</span><span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"mi\">5</span><span class=\"p\">)</span>\n</div></div></div>\n\n  \n</div><pre class=\"preformatted-textbox\">(&apos;chevrolet chevelle malibu&apos;, 8, 307.0, 3504, 130, 70, 1)\r\n(&apos;buick skylark 320&apos;, 8, 350.0, 3693, 165, 70, 1)\r\n(&apos;plymouth satellite&apos;, 8, 318.0, 3436, 150, 70, 1)\r\n(&apos;amc rebel sst&apos;, 8, 304.0, 3433, 150, 70, 1)\r\n(&apos;ford torino&apos;, 8, 302.0, 3449, 140, 70, 1)\r\n</pre><div\n  id=\"cdi-cd-CodeBlock-3acad-zzdxgspd\"\n  class=\"cd-CodeBlock\"\n>\n  \n\n  <div class=\"cd-CodeBlock__box\"><div class=\"highlighttable\"><div class=\"linenos\"><div class=\"linenodiv\">1</div></div><div class=\"code\"><span class=\"n\">select</span><span class=\"p\">([</span><span class=\"n\">performance</span><span class=\"p\">])</span><span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"mi\">5</span><span class=\"p\">)</span>\n</div></div></div>\n\n  \n</div><pre class=\"preformatted-textbox\">(&apos;chevrolet chevelle malibu&apos;, 8, 307.0, 3504, 130, 70, 1)\r\n(&apos;buick skylark 320&apos;, 8, 350.0, 3693, 165, 70, 1)\r\n(&apos;plymouth satellite&apos;, 8, 318.0, 3436, 150, 70, 1)\r\n(&apos;amc rebel sst&apos;, 8, 304.0, 3433, 150, 70, 1)\r\n(&apos;ford torino&apos;, 8, 302.0, 3449, 140, 70, 1)\r\n</pre></div>\n  </div>\n  \n\n  \n\n  \n  <a class=\"step-anchor\" name=\"S04-Table-Definitions.py--end\" data-type=\"--end\"></a>\n</div>", "data": null, "includes": [], "cauldron_version": [0, 0, 31]}, {"name": "S05-Simple-Joins.md", "status": {"error": false, "last_display_update": 1488334539.6090052, "muted": false, "name": "S05-Simple-Joins.md", "last_modified": 1488334539.6090052, "run": true, "is_dirty": false, "uuid": "c8b973318924532e34e5a0cf1e1c7749557879b3", "reference_id": "18", "dirty": false}, "has_error": null, "body": "<div class=\"cd-project-step\"\n     id=\"cdi-project-step-3acc0-xrjxajri\"\n     data-step-name=\"S05-Simple-Joins.md\"\n     data-step-updated=\"1488334539.6090052\"\n>\n  <a class=\"step-anchor\" name=\"S05-Simple-Joins.md\" data-type=\"\"></a>\n  <div class=\"cd-project-step__header cd-project-step__header--standard\"\n       data-default-modifier=\"cd-project-step__header--standard\"\n  >\n\n    <div\n      id=\"cdi-title-box-3acc0-xrjxajri\"\n      class=\"title-box clicker opened\"\n      data-closes=\"#cdi-body-3acc0-xrjxajri|#cdi-code-3acc0-xrjxajri|#cdi-cd-StdErr__body-3acc0-xrjxajri\"\n      data-opens=\"#cdi-body-3acc0-xrjxajri\"\n      data-marks-closed=\"#cdi-code-toggler-3acc0-xrjxajri|#cdi-cd-StdErr__titleBox-3acc0-xrjxajri\"\n      onclick=\"CAULDRON.collapse('cdi-title-box-3acc0-xrjxajri')\"\n    >\n      \n      <i class=\"material-icons closed-icon\">keyboard_arrow_down</i>\n      <i class=\"material-icons opened-icon\">keyboard_arrow_up</i>\n      \n      <div>\n        <div class=\"title cd-step-title\">S05-Simple-Joins.md</div>\n        \n      </div>\n    </div>\n\n    <div class=\"spacer\"> </div>\n\n    <div class=\"button-bar\">\n      \n      <div id=\"cdi-code-toggler-3acc0-xrjxajri\"\n           class=\"clicker closed centered\"\n           data-closes=\"#cdi-code-3acc0-xrjxajri\"\n           data-opens=\"#cdi-code-3acc0-xrjxajri\"\n           onclick=\"CAULDRON.collapse('cdi-code-toggler-3acc0-xrjxajri')\">\n        code\n        <i class=\"material-icons closed-icon\">keyboard_arrow_down</i>\n        <i class=\"material-icons opened-icon\">keyboard_arrow_up</i>\n      </div>\n      \n    </div>\n  </div>\n\n  \n  <div class=\"cd-CodeBlock code-box\"\n       id=\"cdi-code-3acc0-xrjxajri\"\n       style=\"display:none\"\n  >\n    <div class=\"cd-CodeBlock__toolbar code-toolbar\">\n      <div class=\"spacer\"></div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3acc0-xrjxajri .code-wrapper', -1)\"\n      >\n        -\n      </div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3acc0-xrjxajri .code-wrapper', 0)\"\n      >\n        100%\n      </div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3acc0-xrjxajri .code-wrapper', 1)\"\n      >\n        +\n      </div>\n    </div>\n    <div class=\"cd-CodeBlock__wrapper code-wrapper\"\n         data-font-size=\"0.6\"\n         data-font-size-default=\"0.6\"\n         style=\"font-size: 0.6em\"\n    >\n      <div class=\"cd-CodeBlock__FileBox code-file-box\">\n        <table class=\"highlighttable\"><tr><td class=\"linenos\"><div class=\"linenodiv\"><pre>1\n2\n3\n4\n5\n6\n7</pre></div></td><td class=\"code\"><div class=\"highlight\"><pre><span></span># Simple Joins\n\nNow that we have the data loaded in both data frames and an SQLite database,\nwe can look at how to join using the different approaches. In the following\nexamples we will carry out the exact same join operation using each approach\nshowing the code that was used to create the join as well as a table display\nof the joined results.\n</pre></div>\n</td></tr></table>\n      </div>\n    </div>\n  </div>\n  \n\n  \n  <div id=\"cdi-body-3acc0-xrjxajri\"\n       class=\"cd-project-step-body\"\n       \n  >\n\n      \n      <div class=\"cd-ProjectStep__bodyInner\">\n<div class=\"textbox markdown\"><h1>Simple Joins</h1>\n<p>Now that we have the data loaded in both data frames and an SQLite database,\nwe can look at how to join using the different approaches. In the following\nexamples we will carry out the exact same join operation using each approach\nshowing the code that was used to create the join as well as a table display\nof the joined results.</p></div></div>\n  </div>\n  \n\n  \n\n  \n  <a class=\"step-anchor\" name=\"S05-Simple-Joins.md--end\" data-type=\"--end\"></a>\n</div>", "data": null, "includes": [], "cauldron_version": [0, 0, 31]}, {"name": "S06-Simple-SQL-Join.py", "status": {"error": false, "last_display_update": 1488334539.6199758, "muted": false, "name": "S06-Simple-SQL-Join.py", "last_modified": 1488334539.6209736, "run": true, "is_dirty": false, "uuid": "bf4ef2d370fea58fa83ae222a4f75fd1cae1c177", "reference_id": "19", "dirty": false}, "has_error": null, "body": "<div class=\"cd-project-step\"\n     id=\"cdi-project-step-3acca-szmvodoz\"\n     data-step-name=\"S06-Simple-SQL-Join.py\"\n     data-step-updated=\"1488334539.6199758\"\n>\n  <a class=\"step-anchor\" name=\"S06-Simple-SQL-Join.py\" data-type=\"\"></a>\n  <div class=\"cd-project-step__header cd-project-step__header--standard\"\n       data-default-modifier=\"cd-project-step__header--standard\"\n  >\n\n    <div\n      id=\"cdi-title-box-3acca-szmvodoz\"\n      class=\"title-box clicker opened\"\n      data-closes=\"#cdi-body-3acca-szmvodoz|#cdi-code-3acca-szmvodoz|#cdi-cd-StdErr__body-3acca-szmvodoz\"\n      data-opens=\"#cdi-body-3acca-szmvodoz\"\n      data-marks-closed=\"#cdi-code-toggler-3acca-szmvodoz|#cdi-cd-StdErr__titleBox-3acca-szmvodoz\"\n      onclick=\"CAULDRON.collapse('cdi-title-box-3acca-szmvodoz')\"\n    >\n      \n      <i class=\"material-icons closed-icon\">keyboard_arrow_down</i>\n      <i class=\"material-icons opened-icon\">keyboard_arrow_up</i>\n      \n      <div>\n        <div class=\"title cd-step-title\">S06-Simple-SQL-Join.py</div>\n        \n      </div>\n    </div>\n\n    <div class=\"spacer\"> </div>\n\n    <div class=\"button-bar\">\n      \n      <div id=\"cdi-code-toggler-3acca-szmvodoz\"\n           class=\"clicker closed centered\"\n           data-closes=\"#cdi-code-3acca-szmvodoz\"\n           data-opens=\"#cdi-code-3acca-szmvodoz\"\n           onclick=\"CAULDRON.collapse('cdi-code-toggler-3acca-szmvodoz')\">\n        code\n        <i class=\"material-icons closed-icon\">keyboard_arrow_down</i>\n        <i class=\"material-icons opened-icon\">keyboard_arrow_up</i>\n      </div>\n      \n    </div>\n  </div>\n\n  \n  <div class=\"cd-CodeBlock code-box\"\n       id=\"cdi-code-3acca-szmvodoz\"\n       style=\"display:none\"\n  >\n    <div class=\"cd-CodeBlock__toolbar code-toolbar\">\n      <div class=\"spacer\"></div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3acca-szmvodoz .code-wrapper', -1)\"\n      >\n        -\n      </div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3acca-szmvodoz .code-wrapper', 0)\"\n      >\n        100%\n      </div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3acca-szmvodoz .code-wrapper', 1)\"\n      >\n        +\n      </div>\n    </div>\n    <div class=\"cd-CodeBlock__wrapper code-wrapper\"\n         data-font-size=\"0.6\"\n         data-font-size-default=\"0.6\"\n         style=\"font-size: 0.6em\"\n    >\n      <div class=\"cd-CodeBlock__FileBox code-file-box\">\n        <table class=\"highlighttable\"><tr><td class=\"linenos\"><div class=\"linenodiv\"><pre> 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25</pre></div></td><td class=\"code\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">cauldron</span> <span class=\"kn\">as</span> <span class=\"nn\">cd</span>\n<span class=\"kn\">import</span> <span class=\"nn\">pandas</span> <span class=\"kn\">as</span> <span class=\"nn\">pd</span>\n\n<span class=\"n\">engine</span> <span class=\"o\">=</span> <span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">shared</span><span class=\"o\">.</span><span class=\"n\">sql_engine</span>\n\n<span class=\"n\">cmd</span> <span class=\"o\">=</span> <span class=\"p\">(</span>\n    <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    SELECT * FROM attributes</span>\n<span class=\"sd\">    INNER JOIN performance</span>\n<span class=\"sd\">    ON attributes.name = performance.name</span>\n<span class=\"sd\">    LIMIT 10</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n<span class=\"p\">)</span>\n\n<span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"o\">.</span><span class=\"n\">header</span><span class=\"p\">(</span><span class=\"s1\">&#39;Simple Join: SQL&#39;</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">)</span>\n\n<span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"o\">.</span><span class=\"n\">code_block</span><span class=\"p\">(</span><span class=\"n\">cmd</span><span class=\"p\">,</span> <span class=\"n\">language_id</span><span class=\"o\">=</span><span class=\"s1\">&#39;sql&#39;</span><span class=\"p\">)</span>\n\n<span class=\"n\">results</span> <span class=\"o\">=</span> <span class=\"n\">engine</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"n\">cmd</span><span class=\"p\">)</span>\n<span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span><span class=\"p\">([</span>\n    <span class=\"p\">{</span><span class=\"n\">k</span><span class=\"p\">:</span> <span class=\"n\">v</span> <span class=\"k\">for</span> <span class=\"n\">k</span><span class=\"p\">,</span> <span class=\"n\">v</span> <span class=\"ow\">in</span> <span class=\"n\">r</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">()}</span>\n    <span class=\"k\">for</span> <span class=\"n\">r</span> <span class=\"ow\">in</span> <span class=\"n\">results</span><span class=\"o\">.</span><span class=\"n\">fetchall</span><span class=\"p\">()</span>\n<span class=\"p\">])</span>\n\n<span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"o\">.</span><span class=\"n\">table</span><span class=\"p\">(</span><span class=\"n\">df</span><span class=\"p\">)</span>\n</pre></div>\n</td></tr></table>\n      </div>\n    </div>\n  </div>\n  \n\n  \n  <div id=\"cdi-body-3acca-szmvodoz\"\n       class=\"cd-project-step-body\"\n       \n  >\n\n      \n      <div class=\"cd-ProjectStep__bodyInner\">\n<h2>Simple Join: SQL</h2><div\n  id=\"cdi-cd-CodeBlock-3acc3-ynylsupb\"\n  class=\"cd-CodeBlock\"\n>\n  \n\n  <div class=\"cd-CodeBlock__box\"><div class=\"highlighttable\"><div class=\"linenos\"><div class=\"linenodiv\">1\n2\n3\n4</div></div><div class=\"code\"><span class=\"k\">SELECT</span> <span class=\"o\">*</span> <span class=\"k\">FROM</span> <span class=\"n\">attributes</span>\n<span class=\"k\">INNER</span> <span class=\"k\">JOIN</span> <span class=\"n\">performance</span>\n<span class=\"k\">ON</span> <span class=\"n\">attributes</span><span class=\"p\">.</span><span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"n\">performance</span><span class=\"p\">.</span><span class=\"n\">name</span>\n<span class=\"k\">LIMIT</span> <span class=\"mi\">10</span>\n</div></div></div>\n\n  \n</div><div class=\"data-table\">\n    <div id=\"table-02-15-39-618973-50594867\"></div>\n</div>\n\n<script>\n  (function () {\n    var data = [[12.0, 8, 307.0, 130, 0, 18.0, \"chevrolet chevelle malibu\", 1, 3504, 70], [15.5, 8, 307.0, 130, 34, 17.0, \"chevrolet chevelle malibu\", 1, 3504, 70], [11.5, 8, 350.0, 165, 1, 15.0, \"buick skylark 320\", 1, 3693, 70], [11.0, 8, 318.0, 150, 2, 18.0, \"plymouth satellite\", 1, 3436, 70], [12.0, 8, 304.0, 150, 3, 16.0, \"amc rebel sst\", 1, 3433, 70], [10.5, 8, 302.0, 140, 4, 17.0, \"ford torino\", 1, 3449, 70], [10.0, 8, 429.0, 198, 5, 15.0, \"ford galaxie 500\", 1, 4341, 70], [13.5, 8, 429.0, 198, 39, 14.0, \"ford galaxie 500\", 1, 4341, 70], [13.0, 8, 429.0, 198, 64, 14.0, \"ford galaxie 500\", 1, 4341, 70], [9.0, 8, 454.0, 220, 6, 14.0, \"chevrolet impala\", 1, 4354, 70]];\n\n    function heightMaker() {\n      return Math.min(\n          Math.round(0.7 * $(window).height()),\n          Math.round(26 * (data.length + 1.5))\n      );\n    }\n\n    var table = new window.Handsontable($('#table-02-15-39-618973-50594867')[0], {\n      data: data,\n      stretchH: 'all',\n      height: heightMaker,\n      rowHeaders: true,\n      colHeaders: [\"accel\", \"cyl\", \"displ\", \"hp\", \"index\", \"mpg\", \"name\", \"origin\", \"weight\", \"yr\"],\n      manualRowResize: true,\n      manualColumnResize: true,\n      manualRowMove: true,\n      manualColumnMove: true\n    });\n\n  }());\n</script></div>\n  </div>\n  \n\n  \n\n  \n  <a class=\"step-anchor\" name=\"S06-Simple-SQL-Join.py--end\" data-type=\"--end\"></a>\n</div>", "data": null, "includes": [], "cauldron_version": [0, 0, 31]}, {"name": "S07-Simple-SQLAlchemy-Join.py", "status": {"error": false, "last_display_update": 1488334539.630973, "muted": false, "name": "S07-Simple-SQLAlchemy-Join.py", "last_modified": 1488334539.630973, "run": true, "is_dirty": false, "uuid": "60b840950fd5cf570fc32fb14e279ce79113d56f", "reference_id": "20", "dirty": false}, "has_error": null, "body": "<div class=\"cd-project-step\"\n     id=\"cdi-project-step-3acd6-aetalubp\"\n     data-step-name=\"S07-Simple-SQLAlchemy-Join.py\"\n     data-step-updated=\"1488334539.630973\"\n>\n  <a class=\"step-anchor\" name=\"S07-Simple-SQLAlchemy-Join.py\" data-type=\"\"></a>\n  <div class=\"cd-project-step__header cd-project-step__header--standard\"\n       data-default-modifier=\"cd-project-step__header--standard\"\n  >\n\n    <div\n      id=\"cdi-title-box-3acd6-aetalubp\"\n      class=\"title-box clicker opened\"\n      data-closes=\"#cdi-body-3acd6-aetalubp|#cdi-code-3acd6-aetalubp|#cdi-cd-StdErr__body-3acd6-aetalubp\"\n      data-opens=\"#cdi-body-3acd6-aetalubp\"\n      data-marks-closed=\"#cdi-code-toggler-3acd6-aetalubp|#cdi-cd-StdErr__titleBox-3acd6-aetalubp\"\n      onclick=\"CAULDRON.collapse('cdi-title-box-3acd6-aetalubp')\"\n    >\n      \n      <i class=\"material-icons closed-icon\">keyboard_arrow_down</i>\n      <i class=\"material-icons opened-icon\">keyboard_arrow_up</i>\n      \n      <div>\n        <div class=\"title cd-step-title\">S07-Simple-SQLAlchemy-Join.py</div>\n        \n      </div>\n    </div>\n\n    <div class=\"spacer\"> </div>\n\n    <div class=\"button-bar\">\n      \n      <div id=\"cdi-code-toggler-3acd6-aetalubp\"\n           class=\"clicker closed centered\"\n           data-closes=\"#cdi-code-3acd6-aetalubp\"\n           data-opens=\"#cdi-code-3acd6-aetalubp\"\n           onclick=\"CAULDRON.collapse('cdi-code-toggler-3acd6-aetalubp')\">\n        code\n        <i class=\"material-icons closed-icon\">keyboard_arrow_down</i>\n        <i class=\"material-icons opened-icon\">keyboard_arrow_up</i>\n      </div>\n      \n    </div>\n  </div>\n\n  \n  <div class=\"cd-CodeBlock code-box\"\n       id=\"cdi-code-3acd6-aetalubp\"\n       style=\"display:none\"\n  >\n    <div class=\"cd-CodeBlock__toolbar code-toolbar\">\n      <div class=\"spacer\"></div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3acd6-aetalubp .code-wrapper', -1)\"\n      >\n        -\n      </div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3acd6-aetalubp .code-wrapper', 0)\"\n      >\n        100%\n      </div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3acd6-aetalubp .code-wrapper', 1)\"\n      >\n        +\n      </div>\n    </div>\n    <div class=\"cd-CodeBlock__wrapper code-wrapper\"\n         data-font-size=\"0.6\"\n         data-font-size-default=\"0.6\"\n         style=\"font-size: 0.6em\"\n    >\n      <div class=\"cd-CodeBlock__FileBox code-file-box\">\n        <table class=\"highlighttable\"><tr><td class=\"linenos\"><div class=\"linenodiv\"><pre> 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39</pre></div></td><td class=\"code\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">cauldron</span> <span class=\"kn\">as</span> <span class=\"nn\">cd</span>\n<span class=\"kn\">import</span> <span class=\"nn\">pandas</span> <span class=\"kn\">as</span> <span class=\"nn\">pd</span>\n<span class=\"kn\">import</span> <span class=\"nn\">sqlalchemy</span> <span class=\"kn\">as</span> <span class=\"nn\">sa</span>\n\n<span class=\"n\">engine</span> <span class=\"o\">=</span> <span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">shared</span><span class=\"o\">.</span><span class=\"n\">sql_engine</span>\n<span class=\"n\">attributes</span> <span class=\"o\">=</span> <span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">shared</span><span class=\"o\">.</span><span class=\"n\">attributes_table</span>\n<span class=\"n\">performance</span> <span class=\"o\">=</span> <span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">shared</span><span class=\"o\">.</span><span class=\"n\">performance_table</span>\n\n<span class=\"n\">join</span> <span class=\"o\">=</span> <span class=\"n\">attributes</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">performance</span><span class=\"p\">,</span> <span class=\"n\">attributes</span><span class=\"o\">.</span><span class=\"n\">c</span><span class=\"o\">.</span><span class=\"n\">name</span> <span class=\"o\">==</span> <span class=\"n\">performance</span><span class=\"o\">.</span><span class=\"n\">c</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">)</span>\n<span class=\"n\">cmd</span> <span class=\"o\">=</span> <span class=\"p\">(</span>\n    <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">sql</span>\n    <span class=\"o\">.</span><span class=\"n\">select</span><span class=\"p\">([</span><span class=\"n\">attributes</span><span class=\"p\">,</span> <span class=\"n\">performance</span><span class=\"p\">])</span>\n    <span class=\"o\">.</span><span class=\"n\">select_from</span><span class=\"p\">(</span><span class=\"n\">join</span><span class=\"p\">)</span>\n    <span class=\"o\">.</span><span class=\"n\">reduce_columns</span><span class=\"p\">()</span>\n    <span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">)</span>\n<span class=\"p\">)</span>\n\n<span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"o\">.</span><span class=\"n\">header</span><span class=\"p\">(</span><span class=\"s1\">&#39;Simple Join: SQLAlchemy&#39;</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">)</span>\n\n<span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"o\">.</span><span class=\"n\">code_block</span><span class=\"p\">(</span>\n    <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    join = attributes.join(performance, attributes.c.name == performance.c.name)</span>\n<span class=\"sd\">    cmd = (</span>\n<span class=\"sd\">        select([attributes, performance])</span>\n<span class=\"sd\">        .select_from(join)</span>\n<span class=\"sd\">        .reduce_columns()</span>\n<span class=\"sd\">        .limit(10)</span>\n<span class=\"sd\">    )</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span><span class=\"p\">,</span>\n    <span class=\"n\">language_id</span><span class=\"o\">=</span><span class=\"s1\">&#39;py&#39;</span>\n<span class=\"p\">)</span>\n\n<span class=\"n\">results</span> <span class=\"o\">=</span> <span class=\"n\">engine</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"n\">cmd</span><span class=\"p\">)</span>\n<span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span><span class=\"p\">([</span>\n    <span class=\"p\">{</span><span class=\"n\">k</span><span class=\"p\">:</span> <span class=\"n\">v</span> <span class=\"k\">for</span> <span class=\"n\">k</span><span class=\"p\">,</span> <span class=\"n\">v</span> <span class=\"ow\">in</span> <span class=\"n\">r</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">()}</span>\n    <span class=\"k\">for</span> <span class=\"n\">r</span> <span class=\"ow\">in</span> <span class=\"n\">results</span><span class=\"o\">.</span><span class=\"n\">fetchall</span><span class=\"p\">()</span>\n<span class=\"p\">])</span>\n\n<span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"o\">.</span><span class=\"n\">table</span><span class=\"p\">(</span><span class=\"n\">df</span><span class=\"p\">)</span>\n</pre></div>\n</td></tr></table>\n      </div>\n    </div>\n  </div>\n  \n\n  \n  <div id=\"cdi-body-3acd6-aetalubp\"\n       class=\"cd-project-step-body\"\n       \n  >\n\n      \n      <div class=\"cd-ProjectStep__bodyInner\">\n<h2>Simple Join: SQLAlchemy</h2><div\n  id=\"cdi-cd-CodeBlock-3accd-qyzhmgyp\"\n  class=\"cd-CodeBlock\"\n>\n  \n\n  <div class=\"cd-CodeBlock__box\"><div class=\"highlighttable\"><div class=\"linenos\"><div class=\"linenodiv\">1\n2\n3\n4\n5\n6\n7</div></div><div class=\"code\"><span class=\"n\">join</span> <span class=\"o\">=</span> <span class=\"n\">attributes</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span><span class=\"n\">performance</span><span class=\"p\">,</span> <span class=\"n\">attributes</span><span class=\"o\">.</span><span class=\"n\">c</span><span class=\"o\">.</span><span class=\"n\">name</span> <span class=\"o\">==</span> <span class=\"n\">performance</span><span class=\"o\">.</span><span class=\"n\">c</span><span class=\"o\">.</span><span class=\"n\">name</span><span class=\"p\">)</span>\n<span class=\"n\">cmd</span> <span class=\"o\">=</span> <span class=\"p\">(</span>\n    <span class=\"n\">select</span><span class=\"p\">([</span><span class=\"n\">attributes</span><span class=\"p\">,</span> <span class=\"n\">performance</span><span class=\"p\">])</span>\n    <span class=\"o\">.</span><span class=\"n\">select_from</span><span class=\"p\">(</span><span class=\"n\">join</span><span class=\"p\">)</span>\n    <span class=\"o\">.</span><span class=\"n\">reduce_columns</span><span class=\"p\">()</span>\n    <span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">)</span>\n<span class=\"p\">)</span>\n</div></div></div>\n\n  \n</div><div class=\"data-table\">\n    <div id=\"table-02-15-39-629973-78520579\"></div>\n</div>\n\n<script>\n  (function () {\n    var data = [[15.5, 8, 307.0, 130, 17.0, \"chevrolet chevelle malibu\", 1, 3504, 70], [12.0, 8, 307.0, 130, 18.0, \"chevrolet chevelle malibu\", 1, 3504, 70], [11.5, 8, 350.0, 165, 15.0, \"buick skylark 320\", 1, 3693, 70], [11.0, 8, 318.0, 150, 18.0, \"plymouth satellite\", 1, 3436, 70], [12.0, 8, 304.0, 150, 16.0, \"amc rebel sst\", 1, 3433, 70], [10.5, 8, 302.0, 140, 17.0, \"ford torino\", 1, 3449, 70], [13.0, 8, 429.0, 198, 14.0, \"ford galaxie 500\", 1, 4341, 70], [13.5, 8, 429.0, 198, 14.0, \"ford galaxie 500\", 1, 4341, 70], [10.0, 8, 429.0, 198, 15.0, \"ford galaxie 500\", 1, 4341, 70], [14.0, 8, 454.0, 220, 11.0, \"chevrolet impala\", 1, 4354, 70]];\n\n    function heightMaker() {\n      return Math.min(\n          Math.round(0.7 * $(window).height()),\n          Math.round(26 * (data.length + 1.5))\n      );\n    }\n\n    var table = new window.Handsontable($('#table-02-15-39-629973-78520579')[0], {\n      data: data,\n      stretchH: 'all',\n      height: heightMaker,\n      rowHeaders: true,\n      colHeaders: [\"accel\", \"cyl\", \"displ\", \"hp\", \"mpg\", \"name\", \"origin\", \"weight\", \"yr\"],\n      manualRowResize: true,\n      manualColumnResize: true,\n      manualRowMove: true,\n      manualColumnMove: true\n    });\n\n  }());\n</script></div>\n  </div>\n  \n\n  \n\n  \n  <a class=\"step-anchor\" name=\"S07-Simple-SQLAlchemy-Join.py--end\" data-type=\"--end\"></a>\n</div>", "data": null, "includes": [], "cauldron_version": [0, 0, 31]}, {"name": "S08-Simple-Pandas-Join.py", "status": {"error": false, "last_display_update": 1488334539.6420026, "muted": false, "name": "S08-Simple-Pandas-Join.py", "last_modified": 1488334539.6420026, "run": true, "is_dirty": false, "uuid": "42ce93a7b7bab18a98cbd598f7246f27420eddb9", "reference_id": "21", "dirty": false}, "has_error": null, "body": "<div class=\"cd-project-step\"\n     id=\"cdi-project-step-3acdf-mjxgakog\"\n     data-step-name=\"S08-Simple-Pandas-Join.py\"\n     data-step-updated=\"1488334539.6420026\"\n>\n  <a class=\"step-anchor\" name=\"S08-Simple-Pandas-Join.py\" data-type=\"\"></a>\n  <div class=\"cd-project-step__header cd-project-step__header--standard\"\n       data-default-modifier=\"cd-project-step__header--standard\"\n  >\n\n    <div\n      id=\"cdi-title-box-3acdf-mjxgakog\"\n      class=\"title-box clicker opened\"\n      data-closes=\"#cdi-body-3acdf-mjxgakog|#cdi-code-3acdf-mjxgakog|#cdi-cd-StdErr__body-3acdf-mjxgakog\"\n      data-opens=\"#cdi-body-3acdf-mjxgakog\"\n      data-marks-closed=\"#cdi-code-toggler-3acdf-mjxgakog|#cdi-cd-StdErr__titleBox-3acdf-mjxgakog\"\n      onclick=\"CAULDRON.collapse('cdi-title-box-3acdf-mjxgakog')\"\n    >\n      \n      <i class=\"material-icons closed-icon\">keyboard_arrow_down</i>\n      <i class=\"material-icons opened-icon\">keyboard_arrow_up</i>\n      \n      <div>\n        <div class=\"title cd-step-title\">S08-Simple-Pandas-Join.py</div>\n        \n      </div>\n    </div>\n\n    <div class=\"spacer\"> </div>\n\n    <div class=\"button-bar\">\n      \n      <div id=\"cdi-code-toggler-3acdf-mjxgakog\"\n           class=\"clicker closed centered\"\n           data-closes=\"#cdi-code-3acdf-mjxgakog\"\n           data-opens=\"#cdi-code-3acdf-mjxgakog\"\n           onclick=\"CAULDRON.collapse('cdi-code-toggler-3acdf-mjxgakog')\">\n        code\n        <i class=\"material-icons closed-icon\">keyboard_arrow_down</i>\n        <i class=\"material-icons opened-icon\">keyboard_arrow_up</i>\n      </div>\n      \n    </div>\n  </div>\n\n  \n  <div class=\"cd-CodeBlock code-box\"\n       id=\"cdi-code-3acdf-mjxgakog\"\n       style=\"display:none\"\n  >\n    <div class=\"cd-CodeBlock__toolbar code-toolbar\">\n      <div class=\"spacer\"></div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3acdf-mjxgakog .code-wrapper', -1)\"\n      >\n        -\n      </div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3acdf-mjxgakog .code-wrapper', 0)\"\n      >\n        100%\n      </div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3acdf-mjxgakog .code-wrapper', 1)\"\n      >\n        +\n      </div>\n    </div>\n    <div class=\"cd-CodeBlock__wrapper code-wrapper\"\n         data-font-size=\"0.6\"\n         data-font-size-default=\"0.6\"\n         style=\"font-size: 0.6em\"\n    >\n      <div class=\"cd-CodeBlock__FileBox code-file-box\">\n        <table class=\"highlighttable\"><tr><td class=\"linenos\"><div class=\"linenodiv\"><pre> 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15</pre></div></td><td class=\"code\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">cauldron</span> <span class=\"kn\">as</span> <span class=\"nn\">cd</span>\n<span class=\"kn\">import</span> <span class=\"nn\">pandas</span> <span class=\"kn\">as</span> <span class=\"nn\">pd</span>\n\n<span class=\"n\">df_attributes</span> <span class=\"o\">=</span> <span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">shared</span><span class=\"o\">.</span><span class=\"n\">df_attributes</span>\n<span class=\"n\">df_performance</span> <span class=\"o\">=</span> <span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">shared</span><span class=\"o\">.</span><span class=\"n\">df_performance</span>\n\n<span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"o\">.</span><span class=\"n\">header</span><span class=\"p\">(</span><span class=\"s1\">&#39;Simple Join: Pandas&#39;</span><span class=\"p\">)</span>\n\n<span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"o\">.</span><span class=\"n\">code_block</span><span class=\"p\">(</span>\n    <span class=\"s1\">&#39;pd.merge(df_attributes, df_performance, on=</span><span class=\"se\">\\&#39;</span><span class=\"s1\">name</span><span class=\"se\">\\&#39;</span><span class=\"s1\">).head(10)&#39;</span><span class=\"p\">,</span>\n    <span class=\"n\">language_id</span><span class=\"o\">=</span><span class=\"s1\">&#39;py&#39;</span>\n<span class=\"p\">)</span>\n\n<span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">merge</span><span class=\"p\">(</span><span class=\"n\">df_attributes</span><span class=\"p\">,</span> <span class=\"n\">df_performance</span><span class=\"p\">,</span> <span class=\"n\">on</span><span class=\"o\">=</span><span class=\"s1\">&#39;name&#39;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">head</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">)</span>\n<span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"o\">.</span><span class=\"n\">table</span><span class=\"p\">(</span><span class=\"n\">df</span><span class=\"p\">)</span>\n</pre></div>\n</td></tr></table>\n      </div>\n    </div>\n  </div>\n  \n\n  \n  <div id=\"cdi-body-3acdf-mjxgakog\"\n       class=\"cd-project-step-body\"\n       \n  >\n\n      \n      <div class=\"cd-ProjectStep__bodyInner\">\n<h1>Simple Join: Pandas</h1><div\n  id=\"cdi-cd-CodeBlock-3acd9-jlreocix\"\n  class=\"cd-CodeBlock\"\n>\n  \n\n  <div class=\"cd-CodeBlock__box\"><div class=\"highlighttable\"><div class=\"linenos\"><div class=\"linenodiv\">1</div></div><div class=\"code\"><span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">merge</span><span class=\"p\">(</span><span class=\"n\">df_attributes</span><span class=\"p\">,</span> <span class=\"n\">df_performance</span><span class=\"p\">,</span> <span class=\"n\">on</span><span class=\"o\">=</span><span class=\"s1\">&#39;name&#39;</span><span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">head</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">)</span>\n</div></div></div>\n\n  \n</div><div class=\"data-table\">\n    <div id=\"table-02-15-39-641002-48024927\"></div>\n</div>\n\n<script>\n  (function () {\n    var data = [[\"chevrolet chevelle malibu\", 8, 307.0, 130, 3504, 70, 1, 18.0, 12.0], [\"chevrolet chevelle malibu\", 8, 307.0, 130, 3504, 70, 1, 17.0, 15.5], [\"chevrolet chevelle malibu\", 6, 250.0, 100, 3329, 71, 1, 18.0, 12.0], [\"chevrolet chevelle malibu\", 6, 250.0, 100, 3329, 71, 1, 17.0, 15.5], [\"buick skylark 320\", 8, 350.0, 165, 3693, 70, 1, 15.0, 11.5], [\"plymouth satellite\", 8, 318.0, 150, 3436, 70, 1, 18.0, 11.0], [\"amc rebel sst\", 8, 304.0, 150, 3433, 70, 1, 16.0, 12.0], [\"ford torino\", 8, 302.0, 140, 3449, 70, 1, 17.0, 10.5], [\"ford galaxie 500\", 8, 429.0, 198, 4341, 70, 1, 15.0, 10.0], [\"ford galaxie 500\", 8, 429.0, 198, 4341, 70, 1, 14.0, 13.5]];\n\n    function heightMaker() {\n      return Math.min(\n          Math.round(0.7 * $(window).height()),\n          Math.round(26 * (data.length + 1.5))\n      );\n    }\n\n    var table = new window.Handsontable($('#table-02-15-39-641002-48024927')[0], {\n      data: data,\n      stretchH: 'all',\n      height: heightMaker,\n      rowHeaders: true,\n      colHeaders: [\"name\", \"cyl\", \"displ\", \"hp\", \"weight\", \"yr\", \"origin\", \"mpg\", \"accel\"],\n      manualRowResize: true,\n      manualColumnResize: true,\n      manualRowMove: true,\n      manualColumnMove: true\n    });\n\n  }());\n</script></div>\n  </div>\n  \n\n  \n\n  \n  <a class=\"step-anchor\" name=\"S08-Simple-Pandas-Join.py--end\" data-type=\"--end\"></a>\n</div>", "data": null, "includes": [], "cauldron_version": [0, 0, 31]}, {"name": "S09-Advanced-Joins.md", "status": {"error": false, "last_display_update": 1488334539.6469774, "muted": false, "name": "S09-Advanced-Joins.md", "last_modified": 1488334539.6469774, "run": true, "is_dirty": false, "uuid": "4621d7e139d3ff6f877e121fa43128ec5a23ff4b", "reference_id": "22", "dirty": false}, "has_error": null, "body": "<div class=\"cd-project-step\"\n     id=\"cdi-project-step-3ace7-hukvhkvb\"\n     data-step-name=\"S09-Advanced-Joins.md\"\n     data-step-updated=\"1488334539.6469774\"\n>\n  <a class=\"step-anchor\" name=\"S09-Advanced-Joins.md\" data-type=\"\"></a>\n  <div class=\"cd-project-step__header cd-project-step__header--standard\"\n       data-default-modifier=\"cd-project-step__header--standard\"\n  >\n\n    <div\n      id=\"cdi-title-box-3ace7-hukvhkvb\"\n      class=\"title-box clicker opened\"\n      data-closes=\"#cdi-body-3ace7-hukvhkvb|#cdi-code-3ace7-hukvhkvb|#cdi-cd-StdErr__body-3ace7-hukvhkvb\"\n      data-opens=\"#cdi-body-3ace7-hukvhkvb\"\n      data-marks-closed=\"#cdi-code-toggler-3ace7-hukvhkvb|#cdi-cd-StdErr__titleBox-3ace7-hukvhkvb\"\n      onclick=\"CAULDRON.collapse('cdi-title-box-3ace7-hukvhkvb')\"\n    >\n      \n      <i class=\"material-icons closed-icon\">keyboard_arrow_down</i>\n      <i class=\"material-icons opened-icon\">keyboard_arrow_up</i>\n      \n      <div>\n        <div class=\"title cd-step-title\">S09-Advanced-Joins.md</div>\n        \n      </div>\n    </div>\n\n    <div class=\"spacer\"> </div>\n\n    <div class=\"button-bar\">\n      \n      <div id=\"cdi-code-toggler-3ace7-hukvhkvb\"\n           class=\"clicker closed centered\"\n           data-closes=\"#cdi-code-3ace7-hukvhkvb\"\n           data-opens=\"#cdi-code-3ace7-hukvhkvb\"\n           onclick=\"CAULDRON.collapse('cdi-code-toggler-3ace7-hukvhkvb')\">\n        code\n        <i class=\"material-icons closed-icon\">keyboard_arrow_down</i>\n        <i class=\"material-icons opened-icon\">keyboard_arrow_up</i>\n      </div>\n      \n    </div>\n  </div>\n\n  \n  <div class=\"cd-CodeBlock code-box\"\n       id=\"cdi-code-3ace7-hukvhkvb\"\n       style=\"display:none\"\n  >\n    <div class=\"cd-CodeBlock__toolbar code-toolbar\">\n      <div class=\"spacer\"></div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3ace7-hukvhkvb .code-wrapper', -1)\"\n      >\n        -\n      </div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3ace7-hukvhkvb .code-wrapper', 0)\"\n      >\n        100%\n      </div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3ace7-hukvhkvb .code-wrapper', 1)\"\n      >\n        +\n      </div>\n    </div>\n    <div class=\"cd-CodeBlock__wrapper code-wrapper\"\n         data-font-size=\"0.6\"\n         data-font-size-default=\"0.6\"\n         style=\"font-size: 0.6em\"\n    >\n      <div class=\"cd-CodeBlock__FileBox code-file-box\">\n        <table class=\"highlighttable\"><tr><td class=\"linenos\"><div class=\"linenodiv\"><pre>1\n2\n3\n4\n5\n6\n7</pre></div></td><td class=\"code\"><div class=\"highlight\"><pre><span></span># Advanced Joins\n\nNow we&#39;re going to look at slightly more advanced joins. We&#39;re going to stick\nwith inner joins for these examples, but we will use subqueries for greater\nspecificity in what we want to join. Once again, each example will show the\ncode used to generate the join as well as the resulting table display for the\nresults.\n</pre></div>\n</td></tr></table>\n      </div>\n    </div>\n  </div>\n  \n\n  \n  <div id=\"cdi-body-3ace7-hukvhkvb\"\n       class=\"cd-project-step-body\"\n       \n  >\n\n      \n      <div class=\"cd-ProjectStep__bodyInner\">\n<div class=\"textbox markdown\"><h1>Advanced Joins</h1>\n<p>Now we're going to look at slightly more advanced joins. We're going to stick\nwith inner joins for these examples, but we will use subqueries for greater\nspecificity in what we want to join. Once again, each example will show the\ncode used to generate the join as well as the resulting table display for the\nresults.</p></div></div>\n  </div>\n  \n\n  \n\n  \n  <a class=\"step-anchor\" name=\"S09-Advanced-Joins.md--end\" data-type=\"--end\"></a>\n</div>", "data": null, "includes": [], "cauldron_version": [0, 0, 31]}, {"name": "S10-Advanced-SQL-Join.py", "status": {"error": false, "last_display_update": 1488334539.6589737, "muted": false, "name": "S10-Advanced-SQL-Join.py", "last_modified": 1488334539.6589737, "run": true, "is_dirty": false, "uuid": "6796d7ea7ccbe68de0263911d1757042bec47741", "reference_id": "23", "dirty": false}, "has_error": null, "body": "<div class=\"cd-project-step\"\n     id=\"cdi-project-step-3acf0-gtygaypp\"\n     data-step-name=\"S10-Advanced-SQL-Join.py\"\n     data-step-updated=\"1488334539.6589737\"\n>\n  <a class=\"step-anchor\" name=\"S10-Advanced-SQL-Join.py\" data-type=\"\"></a>\n  <div class=\"cd-project-step__header cd-project-step__header--standard\"\n       data-default-modifier=\"cd-project-step__header--standard\"\n  >\n\n    <div\n      id=\"cdi-title-box-3acf0-gtygaypp\"\n      class=\"title-box clicker opened\"\n      data-closes=\"#cdi-body-3acf0-gtygaypp|#cdi-code-3acf0-gtygaypp|#cdi-cd-StdErr__body-3acf0-gtygaypp\"\n      data-opens=\"#cdi-body-3acf0-gtygaypp\"\n      data-marks-closed=\"#cdi-code-toggler-3acf0-gtygaypp|#cdi-cd-StdErr__titleBox-3acf0-gtygaypp\"\n      onclick=\"CAULDRON.collapse('cdi-title-box-3acf0-gtygaypp')\"\n    >\n      \n      <i class=\"material-icons closed-icon\">keyboard_arrow_down</i>\n      <i class=\"material-icons opened-icon\">keyboard_arrow_up</i>\n      \n      <div>\n        <div class=\"title cd-step-title\">S10-Advanced-SQL-Join.py</div>\n        \n      </div>\n    </div>\n\n    <div class=\"spacer\"> </div>\n\n    <div class=\"button-bar\">\n      \n      <div id=\"cdi-code-toggler-3acf0-gtygaypp\"\n           class=\"clicker closed centered\"\n           data-closes=\"#cdi-code-3acf0-gtygaypp\"\n           data-opens=\"#cdi-code-3acf0-gtygaypp\"\n           onclick=\"CAULDRON.collapse('cdi-code-toggler-3acf0-gtygaypp')\">\n        code\n        <i class=\"material-icons closed-icon\">keyboard_arrow_down</i>\n        <i class=\"material-icons opened-icon\">keyboard_arrow_up</i>\n      </div>\n      \n    </div>\n  </div>\n\n  \n  <div class=\"cd-CodeBlock code-box\"\n       id=\"cdi-code-3acf0-gtygaypp\"\n       style=\"display:none\"\n  >\n    <div class=\"cd-CodeBlock__toolbar code-toolbar\">\n      <div class=\"spacer\"></div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3acf0-gtygaypp .code-wrapper', -1)\"\n      >\n        -\n      </div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3acf0-gtygaypp .code-wrapper', 0)\"\n      >\n        100%\n      </div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3acf0-gtygaypp .code-wrapper', 1)\"\n      >\n        +\n      </div>\n    </div>\n    <div class=\"cd-CodeBlock__wrapper code-wrapper\"\n         data-font-size=\"0.6\"\n         data-font-size-default=\"0.6\"\n         style=\"font-size: 0.6em\"\n    >\n      <div class=\"cd-CodeBlock__FileBox code-file-box\">\n        <table class=\"highlighttable\"><tr><td class=\"linenos\"><div class=\"linenodiv\"><pre> 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34</pre></div></td><td class=\"code\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">cauldron</span> <span class=\"kn\">as</span> <span class=\"nn\">cd</span>\n<span class=\"kn\">import</span> <span class=\"nn\">pandas</span> <span class=\"kn\">as</span> <span class=\"nn\">pd</span>\n\n<span class=\"n\">engine</span> <span class=\"o\">=</span> <span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">shared</span><span class=\"o\">.</span><span class=\"n\">sql_engine</span>\n\n<span class=\"n\">cmd</span> <span class=\"o\">=</span> <span class=\"p\">(</span>\n    <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    SELECT *</span>\n<span class=\"sd\">    FROM (</span>\n<span class=\"sd\">        SELECT *</span>\n<span class=\"sd\">        FROM attributes</span>\n<span class=\"sd\">        WHERE attributes.hp &gt; 200</span>\n<span class=\"sd\">    ) AS high_power</span>\n<span class=\"sd\">    INNER JOIN (</span>\n<span class=\"sd\">        SELECT *</span>\n<span class=\"sd\">        FROM performance</span>\n<span class=\"sd\">        WHERE performance.mpg &gt; 15</span>\n<span class=\"sd\">    ) AS high_performance</span>\n<span class=\"sd\">    ON high_power.name = high_performance.name</span>\n<span class=\"sd\">    LIMIT 10</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span>\n<span class=\"p\">)</span>\n\n<span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"o\">.</span><span class=\"n\">header</span><span class=\"p\">(</span><span class=\"s1\">&#39;Advanced Join: SQL&#39;</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">)</span>\n\n<span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"o\">.</span><span class=\"n\">code_block</span><span class=\"p\">(</span><span class=\"n\">cmd</span><span class=\"p\">,</span> <span class=\"n\">language_id</span><span class=\"o\">=</span><span class=\"s1\">&#39;sql&#39;</span><span class=\"p\">)</span>\n\n<span class=\"n\">results</span> <span class=\"o\">=</span> <span class=\"n\">engine</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"n\">cmd</span><span class=\"p\">)</span>\n<span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span><span class=\"p\">([</span>\n    <span class=\"p\">{</span><span class=\"n\">k</span><span class=\"p\">:</span> <span class=\"n\">v</span> <span class=\"k\">for</span> <span class=\"n\">k</span><span class=\"p\">,</span> <span class=\"n\">v</span> <span class=\"ow\">in</span> <span class=\"n\">r</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">()}</span>\n    <span class=\"k\">for</span> <span class=\"n\">r</span> <span class=\"ow\">in</span> <span class=\"n\">results</span><span class=\"o\">.</span><span class=\"n\">fetchall</span><span class=\"p\">()</span>\n<span class=\"p\">])</span>\n\n<span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"o\">.</span><span class=\"n\">table</span><span class=\"p\">(</span><span class=\"n\">df</span><span class=\"p\">)</span>\n</pre></div>\n</td></tr></table>\n      </div>\n    </div>\n  </div>\n  \n\n  \n  <div id=\"cdi-body-3acf0-gtygaypp\"\n       class=\"cd-project-step-body\"\n       \n  >\n\n      \n      <div class=\"cd-ProjectStep__bodyInner\">\n<h2>Advanced Join: SQL</h2><div\n  id=\"cdi-cd-CodeBlock-3aceb-msofjljg\"\n  class=\"cd-CodeBlock\"\n>\n  \n\n  <div class=\"cd-CodeBlock__box\"><div class=\"highlighttable\"><div class=\"linenos\"><div class=\"linenodiv\"> 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13</div></div><div class=\"code\"><span class=\"k\">SELECT</span> <span class=\"o\">*</span>\n<span class=\"k\">FROM</span> <span class=\"p\">(</span>\n    <span class=\"k\">SELECT</span> <span class=\"o\">*</span>\n    <span class=\"k\">FROM</span> <span class=\"n\">attributes</span>\n    <span class=\"k\">WHERE</span> <span class=\"n\">attributes</span><span class=\"p\">.</span><span class=\"n\">hp</span> <span class=\"o\">&gt;</span> <span class=\"mi\">200</span>\n<span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">high_power</span>\n<span class=\"k\">INNER</span> <span class=\"k\">JOIN</span> <span class=\"p\">(</span>\n    <span class=\"k\">SELECT</span> <span class=\"o\">*</span>\n    <span class=\"k\">FROM</span> <span class=\"n\">performance</span>\n    <span class=\"k\">WHERE</span> <span class=\"n\">performance</span><span class=\"p\">.</span><span class=\"n\">mpg</span> <span class=\"o\">&gt;</span> <span class=\"mi\">15</span>\n<span class=\"p\">)</span> <span class=\"k\">AS</span> <span class=\"n\">high_performance</span>\n<span class=\"k\">ON</span> <span class=\"n\">high_power</span><span class=\"p\">.</span><span class=\"n\">name</span> <span class=\"o\">=</span> <span class=\"n\">high_performance</span><span class=\"p\">.</span><span class=\"n\">name</span>\n<span class=\"k\">LIMIT</span> <span class=\"mi\">10</span>\n</div></div></div>\n\n  \n</div><div class=\"data-table\">\n    <div id=\"table-02-15-39-657974-82538453\"></div>\n</div>\n\n<script>\n  (function () {\n    var data = [[11.5, 8, 455.0, 225, 154, 16.0, \"pontiac catalina\", 1, 4425, 70], [14.9, 8, 455.0, 225, 287, 16.9, \"buick estate wagon (sw)\", 1, 3086, 70], [9.5, 8, 400.0, 230, 115, 16.0, \"pontiac grand prix\", 1, 4278, 73]];\n\n    function heightMaker() {\n      return Math.min(\n          Math.round(0.7 * $(window).height()),\n          Math.round(26 * (data.length + 1.5))\n      );\n    }\n\n    var table = new window.Handsontable($('#table-02-15-39-657974-82538453')[0], {\n      data: data,\n      stretchH: 'all',\n      height: heightMaker,\n      rowHeaders: true,\n      colHeaders: [\"accel\", \"cyl\", \"displ\", \"hp\", \"index\", \"mpg\", \"name\", \"origin\", \"weight\", \"yr\"],\n      manualRowResize: true,\n      manualColumnResize: true,\n      manualRowMove: true,\n      manualColumnMove: true\n    });\n\n  }());\n</script></div>\n  </div>\n  \n\n  \n\n  \n  <a class=\"step-anchor\" name=\"S10-Advanced-SQL-Join.py--end\" data-type=\"--end\"></a>\n</div>", "data": null, "includes": [], "cauldron_version": [0, 0, 31]}, {"name": "S11-Advanced-SQLAlchemy-Join.py", "status": {"error": false, "last_display_update": 1488334539.668975, "muted": false, "name": "S11-Advanced-SQLAlchemy-Join.py", "last_modified": 1488334539.668975, "run": true, "is_dirty": false, "uuid": "261d131b6379b2457f3c299e9bcac611fe31aeda", "reference_id": "24", "dirty": false}, "has_error": null, "body": "<div class=\"cd-project-step\"\n     id=\"cdi-project-step-3acfb-zusqobng\"\n     data-step-name=\"S11-Advanced-SQLAlchemy-Join.py\"\n     data-step-updated=\"1488334539.668975\"\n>\n  <a class=\"step-anchor\" name=\"S11-Advanced-SQLAlchemy-Join.py\" data-type=\"\"></a>\n  <div class=\"cd-project-step__header cd-project-step__header--standard\"\n       data-default-modifier=\"cd-project-step__header--standard\"\n  >\n\n    <div\n      id=\"cdi-title-box-3acfb-zusqobng\"\n      class=\"title-box clicker opened\"\n      data-closes=\"#cdi-body-3acfb-zusqobng|#cdi-code-3acfb-zusqobng|#cdi-cd-StdErr__body-3acfb-zusqobng\"\n      data-opens=\"#cdi-body-3acfb-zusqobng\"\n      data-marks-closed=\"#cdi-code-toggler-3acfb-zusqobng|#cdi-cd-StdErr__titleBox-3acfb-zusqobng\"\n      onclick=\"CAULDRON.collapse('cdi-title-box-3acfb-zusqobng')\"\n    >\n      \n      <i class=\"material-icons closed-icon\">keyboard_arrow_down</i>\n      <i class=\"material-icons opened-icon\">keyboard_arrow_up</i>\n      \n      <div>\n        <div class=\"title cd-step-title\">S11-Advanced-SQLAlchemy-Join.py</div>\n        \n      </div>\n    </div>\n\n    <div class=\"spacer\"> </div>\n\n    <div class=\"button-bar\">\n      \n      <div id=\"cdi-code-toggler-3acfb-zusqobng\"\n           class=\"clicker closed centered\"\n           data-closes=\"#cdi-code-3acfb-zusqobng\"\n           data-opens=\"#cdi-code-3acfb-zusqobng\"\n           onclick=\"CAULDRON.collapse('cdi-code-toggler-3acfb-zusqobng')\">\n        code\n        <i class=\"material-icons closed-icon\">keyboard_arrow_down</i>\n        <i class=\"material-icons opened-icon\">keyboard_arrow_up</i>\n      </div>\n      \n    </div>\n  </div>\n\n  \n  <div class=\"cd-CodeBlock code-box\"\n       id=\"cdi-code-3acfb-zusqobng\"\n       style=\"display:none\"\n  >\n    <div class=\"cd-CodeBlock__toolbar code-toolbar\">\n      <div class=\"spacer\"></div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3acfb-zusqobng .code-wrapper', -1)\"\n      >\n        -\n      </div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3acfb-zusqobng .code-wrapper', 0)\"\n      >\n        100%\n      </div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3acfb-zusqobng .code-wrapper', 1)\"\n      >\n        +\n      </div>\n    </div>\n    <div class=\"cd-CodeBlock__wrapper code-wrapper\"\n         data-font-size=\"0.6\"\n         data-font-size-default=\"0.6\"\n         style=\"font-size: 0.6em\"\n    >\n      <div class=\"cd-CodeBlock__FileBox code-file-box\">\n        <table class=\"highlighttable\"><tr><td class=\"linenos\"><div class=\"linenodiv\"><pre> 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25\n26\n27\n28\n29\n30\n31\n32\n33\n34\n35\n36\n37\n38\n39\n40\n41\n42\n43\n44\n45\n46\n47\n48\n49\n50\n51\n52\n53\n54\n55\n56\n57\n58\n59\n60\n61\n62\n63\n64\n65\n66\n67\n68\n69\n70\n71</pre></div></td><td class=\"code\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">cauldron</span> <span class=\"kn\">as</span> <span class=\"nn\">cd</span>\n<span class=\"kn\">import</span> <span class=\"nn\">pandas</span> <span class=\"kn\">as</span> <span class=\"nn\">pd</span>\n<span class=\"kn\">import</span> <span class=\"nn\">sqlalchemy</span> <span class=\"kn\">as</span> <span class=\"nn\">sa</span>\n\n<span class=\"n\">engine</span> <span class=\"o\">=</span> <span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">shared</span><span class=\"o\">.</span><span class=\"n\">sql_engine</span>\n<span class=\"n\">attributes</span> <span class=\"o\">=</span> <span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">shared</span><span class=\"o\">.</span><span class=\"n\">attributes_table</span>\n<span class=\"n\">performance</span> <span class=\"o\">=</span> <span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">shared</span><span class=\"o\">.</span><span class=\"n\">performance_table</span>\n\n<span class=\"n\">high_power</span> <span class=\"o\">=</span> <span class=\"p\">(</span>\n    <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">sql</span><span class=\"o\">.</span><span class=\"n\">select</span><span class=\"p\">([</span><span class=\"n\">attributes</span><span class=\"p\">])</span>\n    <span class=\"o\">.</span><span class=\"n\">where</span><span class=\"p\">(</span><span class=\"n\">attributes</span><span class=\"o\">.</span><span class=\"n\">c</span><span class=\"o\">.</span><span class=\"n\">hp</span> <span class=\"o\">&gt;</span> <span class=\"mi\">200</span><span class=\"p\">)</span>\n    <span class=\"o\">.</span><span class=\"n\">alias</span><span class=\"p\">()</span>\n<span class=\"p\">)</span>\n\n<span class=\"n\">high_performance</span> <span class=\"o\">=</span> <span class=\"p\">(</span>\n    <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">sql</span><span class=\"o\">.</span><span class=\"n\">select</span><span class=\"p\">([</span><span class=\"n\">performance</span><span class=\"p\">])</span>\n    <span class=\"o\">.</span><span class=\"n\">where</span><span class=\"p\">(</span><span class=\"n\">performance</span><span class=\"o\">.</span><span class=\"n\">c</span><span class=\"o\">.</span><span class=\"n\">mpg</span> <span class=\"o\">&gt;</span> <span class=\"mi\">15</span><span class=\"p\">)</span>\n    <span class=\"o\">.</span><span class=\"n\">alias</span><span class=\"p\">()</span>\n<span class=\"p\">)</span>\n\n<span class=\"n\">join</span> <span class=\"o\">=</span> <span class=\"n\">high_power</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span>\n    <span class=\"n\">high_performance</span><span class=\"p\">,</span>\n    <span class=\"n\">high_power</span><span class=\"o\">.</span><span class=\"n\">c</span><span class=\"o\">.</span><span class=\"n\">name</span> <span class=\"o\">==</span> <span class=\"n\">high_performance</span><span class=\"o\">.</span><span class=\"n\">c</span><span class=\"o\">.</span><span class=\"n\">name</span>\n<span class=\"p\">)</span>\n\n<span class=\"n\">cmd</span> <span class=\"o\">=</span> <span class=\"p\">(</span>\n    <span class=\"n\">sa</span><span class=\"o\">.</span><span class=\"n\">sql</span>\n    <span class=\"o\">.</span><span class=\"n\">select</span><span class=\"p\">([</span><span class=\"n\">high_power</span><span class=\"p\">,</span> <span class=\"n\">high_performance</span><span class=\"p\">])</span>\n    <span class=\"o\">.</span><span class=\"n\">select_from</span><span class=\"p\">(</span><span class=\"n\">join</span><span class=\"p\">)</span>\n    <span class=\"o\">.</span><span class=\"n\">reduce_columns</span><span class=\"p\">()</span>\n    <span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">)</span>\n<span class=\"p\">)</span>\n\n<span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"o\">.</span><span class=\"n\">header</span><span class=\"p\">(</span><span class=\"s1\">&#39;Advanced Join: SQLAlchemy&#39;</span><span class=\"p\">,</span> <span class=\"mi\">2</span><span class=\"p\">)</span>\n\n<span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"o\">.</span><span class=\"n\">code_block</span><span class=\"p\">(</span>\n    <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    high_power = (</span>\n<span class=\"sd\">        select([attributes])</span>\n<span class=\"sd\">        .where(attributes.c.hp &gt; 200)</span>\n<span class=\"sd\">        .alias()</span>\n<span class=\"sd\">    )</span>\n\n<span class=\"sd\">    high_performance = (</span>\n<span class=\"sd\">        select([performance])</span>\n<span class=\"sd\">        .where(performance.c.mpg &gt; 15)</span>\n<span class=\"sd\">        .alias()</span>\n<span class=\"sd\">    )</span>\n\n<span class=\"sd\">    join = high_power.join(</span>\n<span class=\"sd\">        high_performance,</span>\n<span class=\"sd\">        high_power.c.name == high_performance.c.name</span>\n<span class=\"sd\">    )</span>\n\n<span class=\"sd\">    cmd = (</span>\n<span class=\"sd\">        select([high_power, high_performance])</span>\n<span class=\"sd\">        .select_from(join)</span>\n<span class=\"sd\">        .reduce_columns()</span>\n<span class=\"sd\">        .limit(10)</span>\n<span class=\"sd\">    )</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span><span class=\"p\">,</span>\n    <span class=\"n\">language_id</span><span class=\"o\">=</span><span class=\"s1\">&#39;py&#39;</span>\n<span class=\"p\">)</span>\n\n<span class=\"n\">results</span> <span class=\"o\">=</span> <span class=\"n\">engine</span><span class=\"o\">.</span><span class=\"n\">execute</span><span class=\"p\">(</span><span class=\"n\">cmd</span><span class=\"p\">)</span>\n<span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">DataFrame</span><span class=\"p\">([</span>\n    <span class=\"p\">{</span><span class=\"n\">k</span><span class=\"p\">:</span> <span class=\"n\">v</span> <span class=\"k\">for</span> <span class=\"n\">k</span><span class=\"p\">,</span> <span class=\"n\">v</span> <span class=\"ow\">in</span> <span class=\"n\">r</span><span class=\"o\">.</span><span class=\"n\">items</span><span class=\"p\">()}</span>\n    <span class=\"k\">for</span> <span class=\"n\">r</span> <span class=\"ow\">in</span> <span class=\"n\">results</span><span class=\"o\">.</span><span class=\"n\">fetchall</span><span class=\"p\">()</span>\n<span class=\"p\">])</span>\n\n<span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"o\">.</span><span class=\"n\">table</span><span class=\"p\">(</span><span class=\"n\">df</span><span class=\"p\">)</span>\n</pre></div>\n</td></tr></table>\n      </div>\n    </div>\n  </div>\n  \n\n  \n  <div id=\"cdi-body-3acfb-zusqobng\"\n       class=\"cd-project-step-body\"\n       \n  >\n\n      \n      <div class=\"cd-ProjectStep__bodyInner\">\n<h2>Advanced Join: SQLAlchemy</h2><div\n  id=\"cdi-cd-CodeBlock-3acf4-spwakfya\"\n  class=\"cd-CodeBlock\"\n>\n  \n\n  <div class=\"cd-CodeBlock__box\"><div class=\"highlighttable\"><div class=\"linenos\"><div class=\"linenodiv\"> 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23</div></div><div class=\"code\"><span class=\"n\">high_power</span> <span class=\"o\">=</span> <span class=\"p\">(</span>\n    <span class=\"n\">select</span><span class=\"p\">([</span><span class=\"n\">attributes</span><span class=\"p\">])</span>\n    <span class=\"o\">.</span><span class=\"n\">where</span><span class=\"p\">(</span><span class=\"n\">attributes</span><span class=\"o\">.</span><span class=\"n\">c</span><span class=\"o\">.</span><span class=\"n\">hp</span> <span class=\"o\">&gt;</span> <span class=\"mi\">200</span><span class=\"p\">)</span>\n    <span class=\"o\">.</span><span class=\"n\">alias</span><span class=\"p\">()</span>\n<span class=\"p\">)</span>\n\n<span class=\"n\">high_performance</span> <span class=\"o\">=</span> <span class=\"p\">(</span>\n    <span class=\"n\">select</span><span class=\"p\">([</span><span class=\"n\">performance</span><span class=\"p\">])</span>\n    <span class=\"o\">.</span><span class=\"n\">where</span><span class=\"p\">(</span><span class=\"n\">performance</span><span class=\"o\">.</span><span class=\"n\">c</span><span class=\"o\">.</span><span class=\"n\">mpg</span> <span class=\"o\">&gt;</span> <span class=\"mi\">15</span><span class=\"p\">)</span>\n    <span class=\"o\">.</span><span class=\"n\">alias</span><span class=\"p\">()</span>\n<span class=\"p\">)</span>\n\n<span class=\"n\">join</span> <span class=\"o\">=</span> <span class=\"n\">high_power</span><span class=\"o\">.</span><span class=\"n\">join</span><span class=\"p\">(</span>\n    <span class=\"n\">high_performance</span><span class=\"p\">,</span>\n    <span class=\"n\">high_power</span><span class=\"o\">.</span><span class=\"n\">c</span><span class=\"o\">.</span><span class=\"n\">name</span> <span class=\"o\">==</span> <span class=\"n\">high_performance</span><span class=\"o\">.</span><span class=\"n\">c</span><span class=\"o\">.</span><span class=\"n\">name</span>\n<span class=\"p\">)</span>\n\n<span class=\"n\">cmd</span> <span class=\"o\">=</span> <span class=\"p\">(</span>\n    <span class=\"n\">select</span><span class=\"p\">([</span><span class=\"n\">high_power</span><span class=\"p\">,</span> <span class=\"n\">high_performance</span><span class=\"p\">])</span>\n    <span class=\"o\">.</span><span class=\"n\">select_from</span><span class=\"p\">(</span><span class=\"n\">join</span><span class=\"p\">)</span>\n    <span class=\"o\">.</span><span class=\"n\">reduce_columns</span><span class=\"p\">()</span>\n    <span class=\"o\">.</span><span class=\"n\">limit</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">)</span>\n<span class=\"p\">)</span>\n</div></div></div>\n\n  \n</div><div class=\"data-table\">\n    <div id=\"table-02-15-39-668975-29648126\"></div>\n</div>\n\n<script>\n  (function () {\n    var data = [[11.5, 8, 455.0, 225, 16.0, \"pontiac catalina\", 1, 4425, 70], [14.9, 8, 455.0, 225, 16.9, \"buick estate wagon (sw)\", 1, 3086, 70], [9.5, 8, 400.0, 230, 16.0, \"pontiac grand prix\", 1, 4278, 73]];\n\n    function heightMaker() {\n      return Math.min(\n          Math.round(0.7 * $(window).height()),\n          Math.round(26 * (data.length + 1.5))\n      );\n    }\n\n    var table = new window.Handsontable($('#table-02-15-39-668975-29648126')[0], {\n      data: data,\n      stretchH: 'all',\n      height: heightMaker,\n      rowHeaders: true,\n      colHeaders: [\"accel\", \"cyl\", \"displ\", \"hp\", \"mpg\", \"name\", \"origin\", \"weight\", \"yr\"],\n      manualRowResize: true,\n      manualColumnResize: true,\n      manualRowMove: true,\n      manualColumnMove: true\n    });\n\n  }());\n</script></div>\n  </div>\n  \n\n  \n\n  \n  <a class=\"step-anchor\" name=\"S11-Advanced-SQLAlchemy-Join.py--end\" data-type=\"--end\"></a>\n</div>", "data": null, "includes": [], "cauldron_version": [0, 0, 31]}, {"name": "S12-Advanced-Pandas-Join.py", "status": {"error": false, "last_display_update": 1488334539.680006, "muted": false, "name": "S12-Advanced-Pandas-Join.py", "last_modified": 1488334539.680006, "run": true, "is_dirty": false, "uuid": "6e4ca6fabfc8ac2cb66366e592717b9048fc68f8", "reference_id": "25", "dirty": false}, "has_error": null, "body": "<div class=\"cd-project-step\"\n     id=\"cdi-project-step-3ad05-damqqtvh\"\n     data-step-name=\"S12-Advanced-Pandas-Join.py\"\n     data-step-updated=\"1488334539.680006\"\n>\n  <a class=\"step-anchor\" name=\"S12-Advanced-Pandas-Join.py\" data-type=\"\"></a>\n  <div class=\"cd-project-step__header cd-project-step__header--standard\"\n       data-default-modifier=\"cd-project-step__header--standard\"\n  >\n\n    <div\n      id=\"cdi-title-box-3ad05-damqqtvh\"\n      class=\"title-box clicker opened\"\n      data-closes=\"#cdi-body-3ad05-damqqtvh|#cdi-code-3ad05-damqqtvh|#cdi-cd-StdErr__body-3ad05-damqqtvh\"\n      data-opens=\"#cdi-body-3ad05-damqqtvh\"\n      data-marks-closed=\"#cdi-code-toggler-3ad05-damqqtvh|#cdi-cd-StdErr__titleBox-3ad05-damqqtvh\"\n      onclick=\"CAULDRON.collapse('cdi-title-box-3ad05-damqqtvh')\"\n    >\n      \n      <i class=\"material-icons closed-icon\">keyboard_arrow_down</i>\n      <i class=\"material-icons opened-icon\">keyboard_arrow_up</i>\n      \n      <div>\n        <div class=\"title cd-step-title\">S12-Advanced-Pandas-Join.py</div>\n        \n      </div>\n    </div>\n\n    <div class=\"spacer\"> </div>\n\n    <div class=\"button-bar\">\n      \n      <div id=\"cdi-code-toggler-3ad05-damqqtvh\"\n           class=\"clicker closed centered\"\n           data-closes=\"#cdi-code-3ad05-damqqtvh\"\n           data-opens=\"#cdi-code-3ad05-damqqtvh\"\n           onclick=\"CAULDRON.collapse('cdi-code-toggler-3ad05-damqqtvh')\">\n        code\n        <i class=\"material-icons closed-icon\">keyboard_arrow_down</i>\n        <i class=\"material-icons opened-icon\">keyboard_arrow_up</i>\n      </div>\n      \n    </div>\n  </div>\n\n  \n  <div class=\"cd-CodeBlock code-box\"\n       id=\"cdi-code-3ad05-damqqtvh\"\n       style=\"display:none\"\n  >\n    <div class=\"cd-CodeBlock__toolbar code-toolbar\">\n      <div class=\"spacer\"></div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3ad05-damqqtvh .code-wrapper', -1)\"\n      >\n        -\n      </div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3ad05-damqqtvh .code-wrapper', 0)\"\n      >\n        100%\n      </div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3ad05-damqqtvh .code-wrapper', 1)\"\n      >\n        +\n      </div>\n    </div>\n    <div class=\"cd-CodeBlock__wrapper code-wrapper\"\n         data-font-size=\"0.6\"\n         data-font-size-default=\"0.6\"\n         style=\"font-size: 0.6em\"\n    >\n      <div class=\"cd-CodeBlock__FileBox code-file-box\">\n        <table class=\"highlighttable\"><tr><td class=\"linenos\"><div class=\"linenodiv\"><pre> 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16\n17\n18\n19\n20\n21\n22\n23\n24\n25</pre></div></td><td class=\"code\"><div class=\"highlight\"><pre><span></span><span class=\"kn\">import</span> <span class=\"nn\">cauldron</span> <span class=\"kn\">as</span> <span class=\"nn\">cd</span>\n<span class=\"kn\">import</span> <span class=\"nn\">pandas</span> <span class=\"kn\">as</span> <span class=\"nn\">pd</span>\n\n<span class=\"n\">df_attributes</span> <span class=\"o\">=</span> <span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">shared</span><span class=\"o\">.</span><span class=\"n\">df_attributes</span>\n<span class=\"n\">df_performance</span> <span class=\"o\">=</span> <span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">shared</span><span class=\"o\">.</span><span class=\"n\">df_performance</span>\n\n<span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"o\">.</span><span class=\"n\">header</span><span class=\"p\">(</span><span class=\"s1\">&#39;Advanced Join: Pandas&#39;</span><span class=\"p\">)</span>\n\n<span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"o\">.</span><span class=\"n\">code_block</span><span class=\"p\">(</span>\n    <span class=\"sd\">&quot;&quot;&quot;</span>\n<span class=\"sd\">    df = pd.merge(</span>\n<span class=\"sd\">        df_attributes[df_attributes.hp &gt; 200],</span>\n<span class=\"sd\">        df_performance[df_performance.mpg &gt; 20],</span>\n<span class=\"sd\">        on=&#39;name&#39;</span>\n<span class=\"sd\">    ).head(10)</span>\n<span class=\"sd\">    &quot;&quot;&quot;</span><span class=\"p\">,</span>\n    <span class=\"n\">language_id</span><span class=\"o\">=</span><span class=\"s1\">&#39;py&#39;</span>\n<span class=\"p\">)</span>\n\n<span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">merge</span><span class=\"p\">(</span>\n    <span class=\"n\">df_attributes</span><span class=\"p\">[</span><span class=\"n\">df_attributes</span><span class=\"o\">.</span><span class=\"n\">hp</span> <span class=\"o\">&gt;</span> <span class=\"mi\">200</span><span class=\"p\">],</span>\n    <span class=\"n\">df_performance</span><span class=\"p\">[</span><span class=\"n\">df_performance</span><span class=\"o\">.</span><span class=\"n\">mpg</span> <span class=\"o\">&gt;</span> <span class=\"mi\">15</span><span class=\"p\">],</span>\n    <span class=\"n\">on</span><span class=\"o\">=</span><span class=\"s1\">&#39;name&#39;</span>\n<span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">head</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">)</span>\n<span class=\"n\">cd</span><span class=\"o\">.</span><span class=\"n\">display</span><span class=\"o\">.</span><span class=\"n\">table</span><span class=\"p\">(</span><span class=\"n\">df</span><span class=\"p\">)</span>\n</pre></div>\n</td></tr></table>\n      </div>\n    </div>\n  </div>\n  \n\n  \n  <div id=\"cdi-body-3ad05-damqqtvh\"\n       class=\"cd-project-step-body\"\n       \n  >\n\n      \n      <div class=\"cd-ProjectStep__bodyInner\">\n<h1>Advanced Join: Pandas</h1><div\n  id=\"cdi-cd-CodeBlock-3acfe-hlqyifup\"\n  class=\"cd-CodeBlock\"\n>\n  \n\n  <div class=\"cd-CodeBlock__box\"><div class=\"highlighttable\"><div class=\"linenos\"><div class=\"linenodiv\">1\n2\n3\n4\n5</div></div><div class=\"code\"><span class=\"n\">df</span> <span class=\"o\">=</span> <span class=\"n\">pd</span><span class=\"o\">.</span><span class=\"n\">merge</span><span class=\"p\">(</span>\n    <span class=\"n\">df_attributes</span><span class=\"p\">[</span><span class=\"n\">df_attributes</span><span class=\"o\">.</span><span class=\"n\">hp</span> <span class=\"o\">&gt;</span> <span class=\"mi\">200</span><span class=\"p\">],</span>\n    <span class=\"n\">df_performance</span><span class=\"p\">[</span><span class=\"n\">df_performance</span><span class=\"o\">.</span><span class=\"n\">mpg</span> <span class=\"o\">&gt;</span> <span class=\"mi\">20</span><span class=\"p\">],</span>\n    <span class=\"n\">on</span><span class=\"o\">=</span><span class=\"s1\">&#39;name&#39;</span>\n<span class=\"p\">)</span><span class=\"o\">.</span><span class=\"n\">head</span><span class=\"p\">(</span><span class=\"mi\">10</span><span class=\"p\">)</span>\n</div></div></div>\n\n  \n</div><div class=\"data-table\">\n    <div id=\"table-02-15-39-679002-92284885\"></div>\n</div>\n\n<script>\n  (function () {\n    var data = [[\"pontiac catalina\", 8, 455.0, 225, 4425, 70, 1, 16.0, 11.5], [\"buick estate wagon (sw)\", 8, 455.0, 225, 3086, 70, 1, 16.9, 14.9], [\"pontiac grand prix\", 8, 400.0, 230, 4278, 73, 1, 16.0, 9.5]];\n\n    function heightMaker() {\n      return Math.min(\n          Math.round(0.7 * $(window).height()),\n          Math.round(26 * (data.length + 1.5))\n      );\n    }\n\n    var table = new window.Handsontable($('#table-02-15-39-679002-92284885')[0], {\n      data: data,\n      stretchH: 'all',\n      height: heightMaker,\n      rowHeaders: true,\n      colHeaders: [\"name\", \"cyl\", \"displ\", \"hp\", \"weight\", \"yr\", \"origin\", \"mpg\", \"accel\"],\n      manualRowResize: true,\n      manualColumnResize: true,\n      manualRowMove: true,\n      manualColumnMove: true\n    });\n\n  }());\n</script></div>\n  </div>\n  \n\n  \n\n  \n  <a class=\"step-anchor\" name=\"S12-Advanced-Pandas-Join.py--end\" data-type=\"--end\"></a>\n</div>", "data": null, "includes": [], "cauldron_version": [0, 0, 31]}, {"name": "S13-Conclusions.md", "status": {"error": false, "last_display_update": 1488334539.6859257, "muted": false, "name": "S13-Conclusions.md", "last_modified": 1488334539.6864548, "run": true, "is_dirty": false, "uuid": "4ce1e5c9c93d10b8c7257fd0c4aad2b99389bfeb", "reference_id": "26", "dirty": false}, "has_error": null, "body": "<div class=\"cd-project-step\"\n     id=\"cdi-project-step-3ad0e-dkwrnory\"\n     data-step-name=\"S13-Conclusions.md\"\n     data-step-updated=\"1488334539.6859257\"\n>\n  <a class=\"step-anchor\" name=\"S13-Conclusions.md\" data-type=\"\"></a>\n  <div class=\"cd-project-step__header cd-project-step__header--standard\"\n       data-default-modifier=\"cd-project-step__header--standard\"\n  >\n\n    <div\n      id=\"cdi-title-box-3ad0e-dkwrnory\"\n      class=\"title-box clicker opened\"\n      data-closes=\"#cdi-body-3ad0e-dkwrnory|#cdi-code-3ad0e-dkwrnory|#cdi-cd-StdErr__body-3ad0e-dkwrnory\"\n      data-opens=\"#cdi-body-3ad0e-dkwrnory\"\n      data-marks-closed=\"#cdi-code-toggler-3ad0e-dkwrnory|#cdi-cd-StdErr__titleBox-3ad0e-dkwrnory\"\n      onclick=\"CAULDRON.collapse('cdi-title-box-3ad0e-dkwrnory')\"\n    >\n      \n      <i class=\"material-icons closed-icon\">keyboard_arrow_down</i>\n      <i class=\"material-icons opened-icon\">keyboard_arrow_up</i>\n      \n      <div>\n        <div class=\"title cd-step-title\">S13-Conclusions.md</div>\n        \n      </div>\n    </div>\n\n    <div class=\"spacer\"> </div>\n\n    <div class=\"button-bar\">\n      \n      <div id=\"cdi-code-toggler-3ad0e-dkwrnory\"\n           class=\"clicker closed centered\"\n           data-closes=\"#cdi-code-3ad0e-dkwrnory\"\n           data-opens=\"#cdi-code-3ad0e-dkwrnory\"\n           onclick=\"CAULDRON.collapse('cdi-code-toggler-3ad0e-dkwrnory')\">\n        code\n        <i class=\"material-icons closed-icon\">keyboard_arrow_down</i>\n        <i class=\"material-icons opened-icon\">keyboard_arrow_up</i>\n      </div>\n      \n    </div>\n  </div>\n\n  \n  <div class=\"cd-CodeBlock code-box\"\n       id=\"cdi-code-3ad0e-dkwrnory\"\n       style=\"display:none\"\n  >\n    <div class=\"cd-CodeBlock__toolbar code-toolbar\">\n      <div class=\"spacer\"></div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3ad0e-dkwrnory .code-wrapper', -1)\"\n      >\n        -\n      </div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3ad0e-dkwrnory .code-wrapper', 0)\"\n      >\n        100%\n      </div>\n      <div class=\"cd-CodeBlock__toolButton tool-button\"\n           onclick=\"CAULDRON.changeFontSize('#cdi-code-3ad0e-dkwrnory .code-wrapper', 1)\"\n      >\n        +\n      </div>\n    </div>\n    <div class=\"cd-CodeBlock__wrapper code-wrapper\"\n         data-font-size=\"0.6\"\n         data-font-size-default=\"0.6\"\n         style=\"font-size: 0.6em\"\n    >\n      <div class=\"cd-CodeBlock__FileBox code-file-box\">\n        <table class=\"highlighttable\"><tr><td class=\"linenos\"><div class=\"linenodiv\"><pre> 1\n 2\n 3\n 4\n 5\n 6\n 7\n 8\n 9\n10\n11\n12\n13\n14\n15\n16</pre></div></td><td class=\"code\"><div class=\"highlight\"><pre><span></span># Conclusions\n\nThe above examples should give you a basic idea of how joins work using the\nthree approaches as well as a feeling for how each approach works in general\n(at least for select statements). Pandas is the clear winner for being concise\nand Pandas joins are also very fast. The obvious caveat is that the data must\nbe loaded locally in memory for Pandas to be used, which isn&#39;t always the best\napproach.\n\nThe SQLAlchemy expression language may seem foreign if you haven&#39;t been exposed\nto it much, but it is very easy to get comfortable with it. Where the\nexpression language excels is readability because it is Pythonic in its style\nand allows you to break complex statements up into readable pieces that can\neasily be combined to build a complex query. SQLAlchemy expression syntax also\nhas the benefit of converting your code into well-optimized SQL, which is most\noften better than what someone would write themselves by hand.\n</pre></div>\n</td></tr></table>\n      </div>\n    </div>\n  </div>\n  \n\n  \n  <div id=\"cdi-body-3ad0e-dkwrnory\"\n       class=\"cd-project-step-body\"\n       \n  >\n\n      \n      <div class=\"cd-ProjectStep__bodyInner\">\n<div class=\"textbox markdown\"><h1>Conclusions</h1>\n<p>The above examples should give you a basic idea of how joins work using the\nthree approaches as well as a feeling for how each approach works in general\n(at least for select statements). Pandas is the clear winner for being concise\nand Pandas joins are also very fast. The obvious caveat is that the data must\nbe loaded locally in memory for Pandas to be used, which isn't always the best\napproach.</p>\n<p>The SQLAlchemy expression language may seem foreign if you haven't been exposed\nto it much, but it is very easy to get comfortable with it. Where the\nexpression language excels is readability because it is Pythonic in its style\nand allows you to break complex statements up into readable pieces that can\neasily be combined to build a complex query. SQLAlchemy expression syntax also\nhas the benefit of converting your code into well-optimized SQL, which is most\noften better than what someone would write themselves by hand.</p></div></div>\n  </div>\n  \n\n  \n\n  \n  <a class=\"step-anchor\" name=\"S13-Conclusions.md--end\" data-type=\"--end\"></a>\n</div>", "data": null, "includes": [], "cauldron_version": [0, 0, 31]}], "settings": {"id": "joins-comparison", "summary": "", "naming_scheme": "S{{##}}-{{name}}.{{ext}}", "library_folders": ["libs"], "name": "joins-comparison", "title": "SQL vs SQLAlchemy vs Pandas Joins", "author": "", "steps": ["S01-Introduction.md", "S02-Load-Data.py", "S03-Create-Database.py", "S04-Table-Definitions.py", "S05-Simple-Joins.md", "S06-Simple-SQL-Join.py", "S07-Simple-SQLAlchemy-Join.py", "S08-Simple-Pandas-Join.py", "S09-Advanced-Joins.md", "S10-Advanced-SQL-Join.py", "S11-Advanced-SQLAlchemy-Join.py", "S12-Advanced-Pandas-Join.py", "S13-Conclusions.md"]}, "cauldron_version": [0, 0, 31]};

}());